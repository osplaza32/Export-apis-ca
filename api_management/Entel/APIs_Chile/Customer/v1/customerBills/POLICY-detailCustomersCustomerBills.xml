<?xml version="1.0" encoding="UTF-8"?>
<wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
    <wsp:All wsp:Usage="Required">
        <L7p:Include>
            <L7p:PolicyGuid stringValue="c30fccdf-e5b2-4d1f-96da-424a5407efde"/>
        </L7p:Include>
        <wsp:OneOrMore wsp:Usage="Required">
            <wsp:All wsp:Usage="Required">
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLnJlcXVlc3RUaW1lc3RhbXB9"/>
                    <L7p:VariableToSet stringValue="Timestamp"/>
                </L7p:SetVariable>
                <L7p:AuditDetailAssertion>
                    <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                    <L7p:Detail stringValue="IDTRANSACTION: ${requestId}  REQUEST BACKEND: ${message.mainpart} "/>
                    <L7p:LoggingOnly booleanValue="true"/>
                </L7p:AuditDetailAssertion>
                <L7p:HttpRoutingAssertion>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:FailOnErrorStatus booleanValue="false"/>
                    <L7p:HttpMethod httpMethod="GET"/>
                    <L7p:ProtectedServiceUrl stringValue="http://10.49.9.126:8360/ods"/>
                    <L7p:ProxyPassword stringValueNull="null"/>
                    <L7p:ProxyUsername stringValueNull="null"/>
                    <L7p:RequestHeaderRules httpPassthroughRuleSet="included">
                        <L7p:ForwardAll booleanValue="true"/>
                        <L7p:Rules httpPassthroughRules="included">
                            <L7p:item httpPassthroughRule="included">
                                <L7p:Name stringValue="Cookie"/>
                            </L7p:item>
                            <L7p:item httpPassthroughRule="included">
                                <L7p:Name stringValue="SOAPAction"/>
                            </L7p:item>
                        </L7p:Rules>
                    </L7p:RequestHeaderRules>
                    <L7p:RequestParamRules httpPassthroughRuleSet="included">
                        <L7p:ForwardAll booleanValue="true"/>
                        <L7p:Rules httpPassthroughRules="included"/>
                    </L7p:RequestParamRules>
                    <L7p:ResponseHeaderRules httpPassthroughRuleSet="included">
                        <L7p:ForwardAll booleanValue="true"/>
                        <L7p:Rules httpPassthroughRules="included">
                            <L7p:item httpPassthroughRule="included">
                                <L7p:Name stringValue="Set-Cookie"/>
                            </L7p:item>
                        </L7p:Rules>
                    </L7p:ResponseHeaderRules>
                    <L7p:SamlAssertionVersion intValue="2"/>
                </L7p:HttpRoutingAssertion>
                <L7p:AuditDetailAssertion>
                    <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                    <L7p:Detail stringValue="IDTRANSACTION: ${requestId} BACKEND: ${httpRouting.url} LATENCY: ${httpRouting.latency} ms REASON CODE: ${httpRouting.reasonCode} RESPONSEBACKEND: ${response.mainpart} "/>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:LoggingOnly booleanValue="true"/>
                </L7p:AuditDetailAssertion>
                <L7p:ComparisonAssertion>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="Evalua si el estado de la respuesta es OK"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:Expression1 stringValue="${httpRouting.reasonCode}"/>
                    <L7p:Expression2 stringValue="200"/>
                    <L7p:Predicates predicates="included">
                        <L7p:item binary="included">
                            <L7p:RightValue stringValue="200"/>
                        </L7p:item>
                    </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:Regex>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="Arregla el Body"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:AutoTarget booleanValue="false"/>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:Regex stringValue="^\{|^}"/>
                    <L7p:Replace booleanValue="true"/>
                    <L7p:Replacement stringValue=""/>
                    <L7p:Target target="RESPONSE"/>
                </L7p:Regex>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtyZXF1ZXN0LnRpbWUubG9jYWwueXl5eS1NTS1kZCdUJ0hIOm1tOnNzLlNTU30="/>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:VariableToSet stringValue="responseTimestamp"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="ew0KInJlc3VsdCI6ew0KCSJ0cmFuc2FjdGlvbklkIjoiJHtyZXF1ZXN0SWR9IiwNCgkiY29kZSI6IjIwMCIsDQoJImRlc2NyaXB0aW9uIjoiT0siLA0KCSJkZXNjcmlwdGlvbkRldGFpbCI6IlByb2Nlc2FtaWVudG8gY29uY2x1w61kbyBleGl0b3NhbWVudGUiLA0KCSJyZXNwb25zZVRpbWVzdGFtcCI6IiR7cmVzcG9uc2VUaW1lc3RhbXB9Ig0KCX0sDQoke3Jlc3BvbnNlLm1haW5wYXJ0fQ0KfQ=="/>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:VariableToSet stringValue="serviceRsp"/>
                </L7p:SetVariable>
                <L7p:AuditDetailAssertion>
                    <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                    <L7p:Detail stringValue="IDTRANSACTION: ${requestId}  RESPONSE GW: ${serviceRsp} "/>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:LoggingOnly booleanValue="true"/>
                </L7p:AuditDetailAssertion>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="ew0KICAicmVzdWx0Ijogew0KICAgICAgICAidHJhbnNhY3Rpb25JZCI6ICIke3JlcXVlc3RJZH0iLA0KICAgICAgICAiY29kZSI6ICIke2NvZGVSc3AucmVzdWx0fSIsDQogICAgICAgICJkZXNjcmlwdGlvbiI6ICJPSyIsDQogICAgICAgICJkZXNjcmlwdGlvbkRldGFpbCI6ICJQcm9jZXNhbWllbnRvIGNvbmNsdWlkbyBleGl0b3NhbWVudGUiLA0KICAgICAgICAicmVzcG9uc2VUaW1lc3RhbXAiOiAiJHtyZXF1ZXN0LnRpbWUubG9jYWwueXl5eS1NTS1kZCdUJ0hIOm1tOnNzLlNTU30iDQogICAgfSwNCiAgIkNoZWNrUE0iOiB7DQogICAgIkFtb3VudCI6ICR7YW1vdW50LnJlc3VsdH0NCiAgfSwNCiAgIkN1c3RvbWVyIjogew0KICAgICJDb21wbGVtZW50YXJ5U2VydmljZVF1b3RhIjoke2NvbXBsZW1lbnRhcnlTZXJ2aWNlUXVvdGEucmVzdWx0fSwNCiAgICAiRmFsYWJlbGxhQ29ubmVjdEluZGljYXRvciI6ICIiLA0KICAgICJGaXhlZENoYXJnZUNvbnZlcmdpbmdTZXJ2aWNlcyI6ICR7Zml4ZWRDaGFyZ2VDb252ZXJnaW5nU2VydmljZXMucmVzdWx0fSwNCiAgICAiTGFzdEV4Y2VwdGlvbmRhdGUiOiAiJHtsYXN0RXhjZXB0aW9uRGF0ZS5yZXN1bHR9IiwNCiAgICAiU2NvcmUxIjogJHtzY29yZTEucmVzdWx0fSwNCiAgICAiU2NvcmUyIjogJHtzY29yZTIucmVzdWx0fSwNCiAgICAiU2NvcmUzIjogJHtzY29yZTMucmVzdWx0fSwNCiAgICAiU2NvcmU0IjogJHtzY29yZTQucmVzdWx0fSwNCiAgICAiU2NvcmU1IjogJHtzY29yZTUucmVzdWx0fSwNCiAgICAiYWN0aXZhdGlvbmRhdGUiOiAiJHthY3RpdmF0aW9uRGF0ZS5yZXN1bHR9IiwNCiAgICAiYW1vdW50VUYiOiAke2Ftb3VudFVGLnJlc3VsdH0sDQogICAgImN1c3RvbWVyQWdlTW9udGhzIjogJHtjdXN0b21lckFnZU1vbnRocy5yZXN1bHR9LA0KICAgICJjdXN0b21lclR5cGUiOiAiJHtjdXN0b21lclR5cGUucmVzdWx0fSIsDQogICAgImN1c3RvbWVyVHlwZUNoYW5nZWRhdGUiOiAke2N1c3RvbWVyVHlwZUNoYW5nZURhdGUucmVzdWx0fSwNCiAgICAiZGVmYXVsdENodXJuSW5kaWNhdG9yIjogMCwNCiAgICAiZGVmYXVsdENodXJuTW9udGhzIjogJHtkZWZhdWx0Q2h1cm5Nb250aHMucmVzdWx0fSwNCiAgICAiZXhwZW5zZUNvbnRyb2wiOiAke2V4cGVuc2VDb250cm9sLnJlc3VsdH0sDQogICAgImZpbmFuY2luZ0Ftb3VudDEiOiR7ZmluYW5jaW5nQW1vdW50MS5yZXN1bHR9LA0KICAgICJmaW5hbmNpbmdBbW91bnQyIjoke2ZpbmFuY2luZ0Ftb3VudDIucmVzdWx0fSwNCiAgICAiZmluYW5jaW5nQW1vdW50MyI6JHtmaW5hbmNpbmdBbW91bnQzLnJlc3VsdH0sDQogICAgImZpeGVkQ2hhcmdlQWRkaXRpb25hbFNlcnZpY2VzIjogJHtmaXhlZENoYXJnZUFkZGl0aW9uYWxTZXJ2aWNlcy5yZXN1bHR9LA0KICAgICJmaXhlZENoYXJnZUJ1bmRsZXNTZXJ2aWNlcyI6ICR7Zml4ZWRDaGFyZ2VCdW5kbGVzU2VydmljZXMucmVzdWx0fSwNCiAgICAiZml4ZWRDaGFyZ2VJbnRlcm5ldCI6ICR7Zml4ZWRDaGFyZ2VJbnRlcm5ldC5yZXN1bHR9LA0KICAgICJmaXhlZENoYXJnZVF1b3RhQmFtIjogJHtmaXhlZENoYXJnZVF1b3RhQmFtLnJlc3VsdH0sDQogICAgImZpeGVkQ2hhcmdlUXVvdGFSZWZpbGwiOiAke2ZpeGVkQ2hhcmdlUXVvdGFSZWZpbGwucmVzdWx0fSwNCiAgICAiZml4ZWRDaGFyZ2VRdW90ZVZBUyI6ICR7Zml4ZWRDaGFyZ2VRdW90YVZBUy5yZXN1bHR9LA0KICAgICJmaXhlZENoYXJnZVRWIjogJHtmaXhlZENoYXJnZVRWLnJlc3VsdH0sDQogICAgImZpeGVkQ2hhcmdlVGVsZXBob255IjogJHtmaXhlZENoYXJnZVRlbGVwaG9ueS5yZXN1bHR9LA0KICAgICJmcmF1ZENodXJuTW9udGhzIjogJHtmcmF1ZENodXJuTW9udGhzLnJlc3VsdH0sDQogICAgImxhc3RDbGFpbUNhdGVnb3J5IjogIiR7bGFzdENsYWltQ2F0ZS5yZXN1bHR9IiwNCiAgICAibGFzdEV4Y2VwdGlvblJlYXNvbiI6ICIke2xhc3RFeGNlcHRpb25Sc29uLnJlc3VsdH0iLA0KICAgICJtaWdyYXRpb25Db2RlIjogIiR7bWlncmF0aW9uQ29kZS5yZXN1bHR9IiwNCiAgICAibnVtYmVPZkxpbmVzTGFzdGRhdGUiOiAke251bWJlck9mTGluZXNMYXN0ZGF0ZS5yZXN1bHR9LA0KICAgICJudW1iZXJIb21lU2VydmljZSI6ICR7bnVtYmVySG9tZVNlcnZpY2UucmVzdWx0fSwNCiAgICAibnVtYmVyT2ZBY2NvdW50cyI6ICR7bnVtYmVyT2ZBY2NvdW50cy5yZXN1bHR9LA0KICAgICJudW1iZXJPZkF2YWlsYWJsZUxpbmVzIjogJHtudW1iZXJPZkF2YWlsYWJsZUxpbmVzLnJlc3VsdH0sDQogICAgIm51bWJlck9mQ2xhaW1zIjogJHtudW1iZXJPZkNsYWltcy5yZXN1bHR9LA0KICAgICJudW1iZXJPZkV4Y2VwdGlvbnMiOiAke251bWJlck9mRXhjZXB0aW9ucy5yZXN1bHR9LA0KICAgICJudW1iZXJPZkxpbmVzIjogJHtudW1iZXJPZkxpbmVzLnJlc3VsdH0sDQogICAgIm51bWJlck9mTGluZXMyIjogJHtudW1iZXJPZkxpbmVzMi5yZXN1bHR9LA0KICAgICJudW1iZXJPZkxpbmVzSE9HQVIiOiAke251bWJlck9mTGluZXNIT0dBUi5yZXN1bHR9LA0KICAgICJudW1iZXJPZkxpbmVzTTJNIjogJHtudW1iZXJPZkxpbmVzTTJNLnJlc3VsdH0sDQogICAgIm51bWJlck9mU3VzcGVuc2lvbiI6ICR7bnVtYmVyT2ZTdXNwZW5zaW9uLnJlc3VsdH0sDQogICAgInBvcnRhYmlsaXR5UXVvdGEiOiR7cG9ydGFiaWxpdHlRdW90YS5yZXN1bHR9LA0KICAgICJxdW90YUFtb3VudCI6ICR7cXVvdGFBbW91bnQucmVzdWx0fSwNCiAgICAidm9sdW50YXJ5Q2h1cm5JbmRpY2F0b3IiOiAke3ZvbHVudGFyeUNodXJuSW5kaWNhdG9yLnJlc3VsdH0sDQogICAgInZvbHVudGFyeUNodXJuTW90aHMiOiAke3ZvbHVudGFyeUNodXJuTW90aHMucmVzdWx0fQ0KICB9LA0KICAiQ3VzdG9tZXJBY2NvdW50Ijogew0KICAgICJjb21wYW55Q3JlZGl0TGltaXQiOiAke2NvbXBhbnlDcmVkaXRMaW1pdC5yZXN1bHR9LA0KICAgICJjcmVkaXRMaW1pdCI6ICR7Y3JlZGl0TGltaXQucmVzdWx0fSwNCiAgICAiY3VycmVudEZpeGVkQ2hhcmdlIjogJHtjdXJyZW50Rml4ZWRDaGFyZ2UucmVzdWx0fSwNCiAgICAicGVyc29uQ3JlZGl0TGltaXQiOiAke3BlcnNvbkNyZWRpdExpbWl0LnJlc3VsdH0NCiAgfSwNCiAgIkN1c3RvbWVyQ3JlZGl0UHJvZmlsZSI6IHsNCiAgICAiY3JlZGl0U2NvcmUiOiAiJHtjcmVkaXRTdG9yZS5yZXN1bHR9Ig0KICB9LA0KICAiRW1wbG95ZWUiOiB7DQogICAgImNvdW50ZXIiOiAke2NvdW50ZXIucmVzdWx0fQ0KICB9LA0KICAiRW50ZXJwcmlzZVJlcXVlc3QiOiB7DQogICAgImluZm9ybWF0aW9uU2hlZXRPckNoZWNrIjogJHtpbmZvcm1hdGlvblNoZWV0T3JDaGVjay5yZXN1bHR9DQogIH0sDQogICJVc2FnZSI6IHsNCiAgICAiZGF0YVRyYWZmaWNBbW91bnQiOiAke2RhdGFUcmFmZmljQW1vdW50LnJlc3VsdH0sDQogICAgImRhdGFUcmFmZmljTWludXRlIjogJHtkYXRhVHJhZmZpY01pbnV0ZS5yZXN1bHR9LA0KICAgICJ2b2ljZVRyYWZmaWNBbW91bnQiOiAke3ZvaWNlVHJhZmZpY0Ftb3VudC5yZXN1bHR9LA0KICAgICJ2b2ljZVRyYWZmaWNNaW51dGUiOiAke3ZvaWNlVHJhZmZpY01pbnV0ZS5yZXN1bHR9DQogIH0NCn0="/>
                    <L7p:ContentType stringValue="application/json; charset=utf-8"/>
                    <L7p:DataType variableDataType="message"/>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:VariableToSet stringValue="serviceRsp"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="eyAgInJlc3VsdCI6IHsNCiAgICAiY29kZSI6ICIyMDAiLA0KICAgICJkZXNjcmlwdGlvbiI6ICJPSyIsDQogICAgImRlc2NyaXB0aW9uRGV0YWlsIjogIlByb2Nlc2FtaWVudG8gY29uY2x1w61kbyBleGl0b3NhbWVudGUiLA0KICAgICJyZXNwb25zZVRpbWVzdGFtcCI6ICIyMDE4LTA4LTA4VDE2OjQ5OjU1LjI5NiIsDQogICAgInRyYW5zYWN0aW9uSWQiOiAiMDAwMDAxNjUwMGZkNzhiOS0yNmNlIg0KICB9LA0KICAiQ2hlY2tQTSI6IHsNCiAgICAiQW1vdW50IjogMA0KICB9LA0KICAiQ3VzdG9tZXIiOiB7DQogICAgIkNvbXBsZW1lbnRhcnlTZXJ2aWNlUXVvdGEiOiAwLA0KICAgICJGYWxhYmVsbGFDb25uZWN0SW5kaWNhdG9yIjogInN0cmluZyIsDQogICAgIkZpeGVkQ2hhcmdlQ29udmVyZ2luZ1NlcnZpY2VzIjogMCwNCiAgICAiTGFzdEV4Y2VwdGlvbmRhdGUiOiAiMjAxOS0wMS0wMyIsDQogICAgIlNjb3JlMSI6IDAsDQogICAgIlNjb3JlMiI6IDAsDQogICAgIlNjb3JlMyI6IDAsDQogICAgIlNjb3JlNCI6IDAsDQogICAgIlNjb3JlNSI6IDAsDQogICAgImFjdGl2YXRpb25kYXRlIjogIjIwMTktMDEtMDMiLA0KICAgICJhbW91bnRVRiI6IDAsDQogICAgImN1c3RvbWVyQWdlTW9udGhzIjogMCwNCiAgICAiY3VzdG9tZXJUeXBlIjogInN0cmluZyIsDQogICAgImN1c3RvbWVyVHlwZUNoYW5nZWRhdGUiOiAiMjAxOS0wMS0wMyIsDQogICAgImRlZmF1bHRDaHVybkluZGljYXRvciI6IDAsDQogICAgImRlZmF1bHRDaHVybk1vbnRocyI6IDAsDQogICAgImVxdWlwbWVudE9uTGVhc2VGaW4iOiAwLA0KICAgICJlcXVpcG1lbnRPbmxlYXNlIjogMCwNCiAgICAiZXhwZW5zZUNvbnRyb2wiOiAwLA0KICAgICJmaW5hbmNpbmdBbW91bnQxIjogMCwNCiAgICAiZmluYW5jaW5nQW1vdW50MiI6IDAsDQogICAgImZpbmFuY2luZ0Ftb3VudDMiOiAwLA0KICAgICJmaXhlZENoYXJnZUFkZGl0aW9uYWxTZXJ2aWNlcyI6IDAsDQogICAgImZpeGVkQ2hhcmdlQnVuZGxlc1NlcnZpY2VzIjogMCwNCiAgICAiZml4ZWRDaGFyZ2VJbnRlcm5ldCI6IDAsDQogICAgImZpeGVkQ2hhcmdlUXVvdGFCYW0iOiAwLA0KICAgICJmaXhlZENoYXJnZVF1b3RhUmVmaWxsIjogMCwNCiAgICAiZml4ZWRDaGFyZ2VRdW90ZVZBUyI6IDAsDQogICAgImZpeGVkQ2hhcmdlVFYiOiAwLA0KICAgICJmaXhlZENoYXJnZVRlbGVwaG9ueSI6IDAsDQogICAgImZyYXVkQ2h1cm5Nb250aHMiOiAwLA0KICAgICJsYXN0Q2xhaW1DYXRlZ29yeSI6ICJzdHJpbmciLA0KICAgICJsYXN0RXhjZXB0aW9uUmVhc29uIjogInN0cmluZyIsDQogICAgIm1pZ3JhdGlvbkNvZGUiOiAic3RyaW5nIiwNCiAgICAibnVtYmVPZkxpbmVzTGFzdGRhdGUiOiAwLA0KICAgICJudW1iZXJIb21lU2VydmljZSI6IDAsDQogICAgIm51bWJlck9mQWNjb3VudHMiOiAwLA0KICAgICJudW1iZXJPZkF2YWlsYWJsZUxpbmVzIjogMCwNCiAgICAibnVtYmVyT2ZDbGFpbXMiOiAwLA0KICAgICJudW1iZXJPZkV4Y2VwdGlvbnMiOiAwLA0KICAgICJudW1iZXJPZkxpbmVzIjogMCwNCiAgICAibnVtYmVyT2ZMaW5lczIiOiAwLA0KICAgICJudW1iZXJPZkxpbmVzSE9HQVIiOiAwLA0KICAgICJudW1iZXJPZkxpbmVzTTJNIjogMCwNCiAgICAibnVtYmVyT2ZTdXNwZW5zaW9uIjogMCwNCiAgICAicG9ydGFiaWxpdHlRdW90YSI6IDAsDQogICAgInF1b3RhQW1vdW50IjogMCwNCiAgICAidm9sdW50YXJ5Q2h1cm5JbmRpY2F0b3IiOiAwLA0KICAgICJ2b2x1bnRhcnlDaHVybk1vdGhzIjogMA0KICB9LA0KICAiQ3VzdG9tZXJBY2NvdW50Ijogew0KICAgICJjb21wYW55Q3JlZGl0TGltaXQiOiAwLA0KICAgICJjcmVkaXRMaW1pdCI6IDAsDQogICAgImN1cnJlbnRGaXhlZENoYXJnZSI6IDAsDQogICAgInBlcnNvbkNyZWRpdExpbWl0IjogMA0KICB9LA0KICAiQ3VzdG9tZXJDcmVkaXRQcm9maWxlIjogew0KICAgICJjcmVkaXRTY29yZSI6ICJzdHJpbmciDQogIH0sDQogICJFbXBsb3llZSI6IHsNCiAgICAiY291bnRlciI6IDANCiAgfSwNCiAgIkVudGVycHJpc2VSZXF1ZXN0Ijogew0KICAgICJpbmZvcm1hdGlvblNoZWV0T3JDaGVjayI6IDANCiAgfSwNCiAgIlVzYWdlIjogew0KICAgICJkYXRhVHJhZmZpY0Ftb3VudCI6IDAsDQogICAgImRhdGFUcmFmZmljTWludXRlIjogMCwNCiAgICAidm9pY2VUcmFmZmljQW1vdW50IjogMCwNCiAgICAidm9pY2VUcmFmZmljTWludXRlIjogMA0KICB9DQp9"/>
                    <L7p:ContentType stringValue="application/json; charset=utf-8"/>
                    <L7p:DataType variableDataType="message"/>
                    <L7p:VariableToSet stringValue="serviceRsp"/>
                </L7p:SetVariable>
                <L7p:HardcodedResponse>
                    <L7p:Base64ResponseBody stringValue="JHtzZXJ2aWNlUnNwLm1haW5wYXJ0fQoKCg=="/>
                    <L7p:ResponseContentType stringValue="application/json; charset=utf-8"/>
                </L7p:HardcodedResponse>
            </wsp:All>
            <wsp:All wsp:Usage="Required">
                <L7p:Encapsulated>
                    <L7p:EncapsulatedAssertionConfigGuid stringValue="14295f18-da19-4f0e-9643-a8c30b3544dc"/>
                    <L7p:EncapsulatedAssertionConfigName stringValue="CodeStatus"/>
                </L7p:Encapsulated>
                <L7p:EvaluateJsonPathExpression>
                    <L7p:Expression stringValue=".SourceError.description"/>
                    <L7p:Target target="RESPONSE"/>
                    <L7p:VariablePrefix stringValue="descriptionDetail"/>
                </L7p:EvaluateJsonPathExpression>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtkZXNjcmlwdGlvbkRldGFpbC5yZXN1bHR9"/>
                    <L7p:VariableToSet stringValue="descriptionDetail"/>
                </L7p:SetVariable>
                <L7p:EvaluateJsonPathExpression>
                    <L7p:Expression stringValue=".SourceError.code"/>
                    <L7p:Target target="RESPONSE"/>
                    <L7p:VariablePrefix stringValue="codeSource"/>
                </L7p:EvaluateJsonPathExpression>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtjb2RlU291cmNlLnJlc3VsdH0="/>
                    <L7p:VariableToSet stringValue="codeSource"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtyZXF1ZXN0LnRpbWUubG9jYWwueXl5eS1NTS1kZCdUJ0hIOm1tOnNzLlNTU30="/>
                    <L7p:VariableToSet stringValue="responseTimestamp"/>
                </L7p:SetVariable>
                <L7p:AuditDetailAssertion>
                    <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                    <L7p:Detail stringValue="IDTRANSACTION: ${requestId} CODE: ${code} DESCRIPTION: ${description} DETAIL: ${descriptionDetail}"/>
                    <L7p:LoggingOnly booleanValue="true"/>
                </L7p:AuditDetailAssertion>
                <L7p:CustomizeErrorResponse>
                    <L7p:Content stringValueReference="inline"><![CDATA[{
"result":{
	"transactionId":"${requestId}",
	"code":"${httpRouting.ReasonCode}",
	"description":"${codeDescription}",
	"descriptionDetail":"${codeSource} - ${descriptionDetail}",
	"responseTimestamp":"${responseTimestamp}"
	}
}]]></L7p:Content>
                    <L7p:ContentType stringValue="application/json; charset=UTF-8"/>
                    <L7p:ExtraHeaders nameValuePairArray="included"/>
                    <L7p:HttpStatus stringValue="${httpRouting.reasonCode}"/>
                </L7p:CustomizeErrorResponse>
                <L7p:RaiseError/>
            </wsp:All>
            <wsp:All wsp:Usage="Required">
                <L7p:Include>
                    <L7p:PolicyGuid stringValue="1b3f18a3-5e88-4cae-9fae-44b459727ac1"/>
                </L7p:Include>
            </wsp:All>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="Logica"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:OneOrMore>
    </wsp:All>
</wsp:Policy>