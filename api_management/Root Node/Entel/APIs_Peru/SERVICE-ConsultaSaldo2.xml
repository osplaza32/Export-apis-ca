<?xml version="1.0" encoding="UTF-8"?>
<wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
    <wsp:All wsp:Usage="Required">
        <L7p:EvaluateJsonPathExpression>
            <L7p:Expression stringValue="$.binAdquiriente"/>
            <L7p:VariablePrefix stringValue="binAdquiriente"/>
        </L7p:EvaluateJsonPathExpression>
        <L7p:EvaluateJsonPathExpression>
            <L7p:Expression stringValue="$.canal"/>
            <L7p:VariablePrefix stringValue="canal"/>
        </L7p:EvaluateJsonPathExpression>
        <L7p:EvaluateJsonPathExpression>
            <L7p:Expression stringValue="$.codigoMoneda"/>
            <L7p:VariablePrefix stringValue="codigoMoneda"/>
        </L7p:EvaluateJsonPathExpression>
        <L7p:EvaluateJsonPathExpression>
            <L7p:Expression stringValue="$.fechaCaptura"/>
            <L7p:VariablePrefix stringValue="fechaCaptura"/>
        </L7p:EvaluateJsonPathExpression>
        <L7p:SetVariable>
            <L7p:Base64Expression stringValue="PHNvYXBlbnY6RW52ZWxvcGUgeG1sbnM6c29hcGVudj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS8iIHhtbG5zOnNlcj0iaHR0cDovL3NlcnZpY2lvLmludGVyZmF6U1Qud2Vic2VydmljZS5ub3ZhdHJvbmljLmNvbSIgeG1sbnM6eHNkPSJodHRwOi8vZW50aWRhZGVzLmludGVyZmF6U1Qud2Vic2VydmljZS5ub3ZhdHJvbmljLmNvbS94c2QiPg0KICAgPHNvYXBlbnY6SGVhZGVyLz4NCiAgIDxzb2FwZW52OkJvZHk+DQogICAgICA8c2VyOmNvbnN1bHRhU2FsZG8+DQogICAgICAgICA8IS0tT3B0aW9uYWw6LS0+DQogICAgICAgICA8c2VyOmNvbnN1bHRhUmVjYXJnYVJlcXVlc3Q+DQogICAgICAgICAgICA8IS0tT3B0aW9uYWw6LS0+DQogICAgICAgICAgICA8eHNkOmJpbkFkcXVpcmllbnRlPiR7YmluQWRxdWlyaWVudGUucmVzdWx0fTwveHNkOmJpbkFkcXVpcmllbnRlPg0KICAgICAgICAgICAgPCEtLU9wdGlvbmFsOi0tPg0KICAgICAgICAgICAgPHhzZDpiaW5BZHF1aXJpZW50ZVJlZW52aWE+MTIzNDwveHNkOmJpbkFkcXVpcmllbnRlUmVlbnZpYT4NCiAgICAgICAgICAgIDwhLS1PcHRpb25hbDotLT4NCiAgICAgICAgICAgIDx4c2Q6Y2FuYWw+JHtjYW5hbC5yZXN1bHR9PC94c2Q6Y2FuYWw+DQogICAgICAgICAgICA8IS0tT3B0aW9uYWw6LS0+DQogICAgICAgICAgICA8eHNkOmNvZGlnb01vbmVkYT4ke2NvZGlnb01vbmVkYS5yZXN1bHR9PC94c2Q6Y29kaWdvTW9uZWRhPg0KICAgICAgICAgICAgPCEtLU9wdGlvbmFsOi0tPg0KICAgICAgICAgICAgPHhzZDpmZWNoYUNhcHR1cmE+JHtmZWNoYUNhcHR1cmEucmVzdWx0fTwveHNkOmZlY2hhQ2FwdHVyYT4NCiAgICAgICAgICAgIDwhLS1PcHRpb25hbDotLT4NCiAgICAgICAgICAgIDx4c2Q6ZmVjaGFUcmFuc2FjY2lvbj4yMDE4LTA1LTA0PC94c2Q6ZmVjaGFUcmFuc2FjY2lvbj4NCiAgICAgICAgICAgIDwhLS1PcHRpb25hbDotLT4NCiAgICAgICAgICAgIDx4c2Q6bWFjPj88L3hzZDptYWM+DQogICAgICAgICAgICA8IS0tT3B0aW9uYWw6LS0+DQogICAgICAgICAgICA8eHNkOm5vbWJyZUNvbWVyY2lvPj88L3hzZDpub21icmVDb21lcmNpbz4NCiAgICAgICAgICAgIDwhLS1PcHRpb25hbDotLT4NCiAgICAgICAgICAgIDx4c2Q6bnVtZXJvQ29tZXJjaW8+PzwveHNkOm51bWVyb0NvbWVyY2lvPg0KICAgICAgICAgICAgPCEtLU9wdGlvbmFsOi0tPg0KICAgICAgICAgICAgPHhzZDpudW1lcm9SZWZlcmVuY2lhPj88L3hzZDpudW1lcm9SZWZlcmVuY2lhPg0KICAgICAgICAgICAgPCEtLU9wdGlvbmFsOi0tPg0KICAgICAgICAgICAgPHhzZDpudW1lcm9UZXJtaW5hbD4/PC94c2Q6bnVtZXJvVGVybWluYWw+DQogICAgICAgICAgICA8IS0tT3B0aW9uYWw6LS0+DQogICAgICAgICAgICA8eHNkOnRyYWNlPj88L3hzZDp0cmFjZT4NCiAgICAgICAgICAgIDwhLS1PcHRpb25hbDotLT4NCiAgICAgICAgICAgIDx4c2Q6Y29kaWdvQ2FkZW5hPj88L3hzZDpjb2RpZ29DYWRlbmE+DQogICAgICAgICAgICA8IS0tT3B0aW9uYWw6LS0+DQogICAgICAgICAgICA8eHNkOmNvZGlnb0Zvcm1hdG8+PzwveHNkOmNvZGlnb0Zvcm1hdG8+DQogICAgICAgICAgICA8IS0tT3B0aW9uYWw6LS0+DQogICAgICAgICAgICA8eHNkOm51bWVyb1RlbGVmb25vPj88L3hzZDpudW1lcm9UZWxlZm9ubz4NCiAgICAgICAgICAgIDwhLS1PcHRpb25hbDotLT4NCiAgICAgICAgICAgIDx4c2Q6cHJvY2VzYWRvcj4/PC94c2Q6cHJvY2VzYWRvcj4NCiAgICAgICAgICAgIDwhLS1PcHRpb25hbDotLT4NCiAgICAgICAgICAgIDx4c2Q6cHJvZHVjdG8+PzwveHNkOnByb2R1Y3RvPg0KICAgICAgICAgICAgPCEtLU9wdGlvbmFsOi0tPg0KICAgICAgICAgICAgPHhzZDp0ZWxjbz4/PC94c2Q6dGVsY28+DQogICAgICAgICA8L3Nlcjpjb25zdWx0YVJlY2FyZ2FSZXF1ZXN0Pg0KICAgICAgPC9zZXI6Y29uc3VsdGFTYWxkbz4NCiAgIDwvc29hcGVudjpCb2R5Pg0KPC9zb2FwZW52OkVudmVsb3BlPg=="/>
            <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
            <L7p:DataType variableDataType="message"/>
            <L7p:VariableToSet stringValue="auxRequest"/>
        </L7p:SetVariable>
        <L7p:HttpRoutingAssertion>
            <L7p:ProtectedServiceUrl stringValue="http://172.28.41.123:8088/mockServiciosEntelSoap11Binding"/>
            <L7p:ProxyPassword stringValueNull="null"/>
            <L7p:ProxyUsername stringValueNull="null"/>
            <L7p:RequestHeaderRules httpPassthroughRuleSet="included">
                <L7p:ForwardAll booleanValue="true"/>
                <L7p:Rules httpPassthroughRules="included">
                    <L7p:item httpPassthroughRule="included">
                        <L7p:Name stringValue="Cookie"/>
                    </L7p:item>
                    <L7p:item httpPassthroughRule="included">
                        <L7p:Name stringValue="SOAPAction"/>
                    </L7p:item>
                </L7p:Rules>
            </L7p:RequestHeaderRules>
            <L7p:RequestMsgSrc stringValue="auxRequest"/>
            <L7p:RequestParamRules httpPassthroughRuleSet="included">
                <L7p:ForwardAll booleanValue="true"/>
                <L7p:Rules httpPassthroughRules="included"/>
            </L7p:RequestParamRules>
            <L7p:ResponseHeaderRules httpPassthroughRuleSet="included">
                <L7p:ForwardAll booleanValue="true"/>
                <L7p:Rules httpPassthroughRules="included">
                    <L7p:item httpPassthroughRule="included">
                        <L7p:Name stringValue="Set-Cookie"/>
                    </L7p:item>
                </L7p:Rules>
            </L7p:ResponseHeaderRules>
            <L7p:ResponseMsgDest stringValue="serviceResponse"/>
        </L7p:HttpRoutingAssertion>
        <L7p:ComparisonAssertion>
            <L7p:CaseSensitive booleanValue="false"/>
            <L7p:Expression1 stringValue="${httpRouting.reasonCode}"/>
            <L7p:Operator operatorNull="null"/>
            <L7p:Predicates predicates="included">
                <L7p:item dataType="included">
                    <L7p:Type variableDataType="int"/>
                </L7p:item>
                <L7p:item binary="included">
                    <L7p:RightValue stringValue="200"/>
                </L7p:item>
            </L7p:Predicates>
        </L7p:ComparisonAssertion>
        <L7p:Include>
            <L7p:PolicyGuid stringValue="6ca99a73-dddf-4d5c-b579-1b8ff18635d6"/>
        </L7p:Include>
        <L7p:HardcodedResponse>
            <L7p:Base64ResponseBody stringValue="JHtzZXJ2aWNlUmVzcG9uc2UubWFpbnBhcnR9"/>
            <L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/>
        </L7p:HardcodedResponse>
    </wsp:All>
</wsp:Policy>