<?xml version="1.0" encoding="UTF-8"?>
<wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
    <wsp:All wsp:Usage="Required">
        <L7p:AuditDetailAssertion>
            <L7p:Detail stringValue="Policy Fragment: POST-llamadaJson"/>
        </L7p:AuditDetailAssertion>
        <L7p:Include>
            <L7p:PolicyGuid stringValue="c30fccdf-e5b2-4d1f-96da-424a5407efde"/>
        </L7p:Include>
        <L7p:SetVariable>
            <L7p:Base64Expression stringValue="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzb2FwOkVudmVsb3BlIHhtbG5zOnNvYXA9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3NvYXAvZW52ZWxvcGUvIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiAgeG1sbnM6czA9InVybjpIUERfQ3JlYV9JbmNpZGVuY2lhIj4NCiAgICA8c29hcDpIZWFkZXI+DQogICAgICAgIDxBdXRoZW50aWNhdGlvbkluZm8+DQogICAgICAgICAgICA8dXNlck5hbWU+PC91c2VyTmFtZT4NCiAgICAgICAgICAgIDxwYXNzd29yZD48L3Bhc3N3b3JkPg0KICAgICAgICA8L0F1dGhlbnRpY2F0aW9uSW5mbz4NCiAgICA8L3NvYXA6SGVhZGVyPg0KICAgIDxzb2FwOkJvZHk+DQogICAgICAgIDxzMDpIZWxwRGVza19TdWJtaXRfU2VydmljZSB4bWxuczpzMD0idXJuOkhQRF9DcmVhX0luY2lkZW5jaWEiIHhtbG5zPSJ1cm46SFBEX0NyZWFfSW5jaWRlbmNpYSI+DQogICAgICAgICAgICA8czA6QXNzaWduZWRfR3JvdXA+JHtBc3NpZ25lZF9Hcm91cC5yZXN1bHR9PC9zMDpBc3NpZ25lZF9Hcm91cD4NCiAgICAgICAgICAgIDxzMDpBc3NpZ25lZF9Hcm91cF9TaGlmdF9OYW1lPiR7QXNzaWduZWRfR3JvdXBfU2hpZnRfTmFtZS5yZXN1bHR9PC9zMDpBc3NpZ25lZF9Hcm91cF9TaGlmdF9OYW1lPg0KICAgICAgICAgICAgPHMwOkFzc2lnbmVkX1N1cHBvcnRfQ29tcGFueT4ke0Fzc2lnbmVkX1N1cHBvcnRfQ29tcGFueS5yZXN1bHR9PC9zMDpBc3NpZ25lZF9TdXBwb3J0X0NvbXBhbnk+DQogICAgICAgICAgICA8czA6QXNzaWduZWRfU3VwcG9ydF9Pcmdhbml6YXRpb24+JHtBc3NpZ25lZF9TdXBwb3J0X09yZ2FuaXphdGlvbi5yZXN1bHR9PC9zMDpBc3NpZ25lZF9TdXBwb3J0X09yZ2FuaXphdGlvbj4NCiAgICAgICAgICAgIDxzMDpBc3NpZ25lZT4ke0Fzc2lnbmVlLnJlc3VsdH08L3MwOkFzc2lnbmVlPg0KICAgICAgICAgICAgPHMwOkNhdGVnb3JpemF0aW9uX1RpZXJfMT4ke0NhdGVnb3JpemF0aW9uX1RpZXJfMS5yZXN1bHR9PC9zMDpDYXRlZ29yaXphdGlvbl9UaWVyXzE+DQogICAgICAgICAgICA8czA6Q2F0ZWdvcml6YXRpb25fVGllcl8yPiR7Q2F0ZWdvcml6YXRpb25fVGllcl8yLnJlc3VsdH08L3MwOkNhdGVnb3JpemF0aW9uX1RpZXJfMj4NCiAgICAgICAgICAgIDxzMDpDYXRlZ29yaXphdGlvbl9UaWVyXzM+JHtDYXRlZ29yaXphdGlvbl9UaWVyXzMucmVzdWx0fTwvczA6Q2F0ZWdvcml6YXRpb25fVGllcl8zPg0KICAgICAgICAgICAgPHMwOkNJX05hbWU+JHtDSV9OYW1lLnJlc3VsdH08L3MwOkNJX05hbWU+DQogICAgICAgICAgICA8czA6Q2xvc3VyZV9NYW51ZmFjdHVyZXI+JHtDbG9zdXJlX01hbnVmYWN0dXJlci5yZXN1bHR9PC9zMDpDbG9zdXJlX01hbnVmYWN0dXJlcj4NCiAgICAgICAgICAgIDxzMDpDbG9zdXJlX1Byb2R1Y3RfQ2F0ZWdvcnlfVGllcjE+JHtDbG9zdXJlX1Byb2R1Y3RfQ2F0ZWdvcnlfVGllcjEucmVzdWx0fTwvczA6Q2xvc3VyZV9Qcm9kdWN0X0NhdGVnb3J5X1RpZXIxPg0KICAgICAgICAgICAgPHMwOkNsb3N1cmVfUHJvZHVjdF9DYXRlZ29yeV9UaWVyMj4ke0Nsb3N1cmVfUHJvZHVjdF9DYXRlZ29yeV9UaWVyMi5yZXN1bHR9PC9zMDpDbG9zdXJlX1Byb2R1Y3RfQ2F0ZWdvcnlfVGllcjI+DQogICAgICAgICAgICA8czA6Q2xvc3VyZV9Qcm9kdWN0X0NhdGVnb3J5X1RpZXIzPiR7Q2xvc3VyZV9Qcm9kdWN0X0NhdGVnb3J5X1RpZXIzLnJlc3VsdH08L3MwOkNsb3N1cmVfUHJvZHVjdF9DYXRlZ29yeV9UaWVyMz4NCiAgICAgICAgICAgIDxzMDpDbG9zdXJlX1Byb2R1Y3RfTW9kZWxfVmVyc2lvbj4ke0Nsb3N1cmVfUHJvZHVjdF9Nb2RlbF9WZXJzaW9uLnJlc3VsdH08L3MwOkNsb3N1cmVfUHJvZHVjdF9Nb2RlbF9WZXJzaW9uPg0KICAgICAgICAgICAgPHMwOkNsb3N1cmVfUHJvZHVjdF9OYW1lPiR7Q2xvc3VyZV9Qcm9kdWN0X05hbWUucmVzdWx0fTwvczA6Q2xvc3VyZV9Qcm9kdWN0X05hbWU+DQogICAgICAgICAgICA8czA6RGVwYXJ0bWVudD4ke0RlcGFydG1lbnQucmVzdWx0fTwvczA6RGVwYXJ0bWVudD4NCiAgICAgICAgICAgIDxzMDpGaXJzdF9OYW1lPiR7Rmlyc3RfTmFtZS5yZXN1bHR9PC9zMDpGaXJzdF9OYW1lPg0KICAgICAgICAgICAgPHMwOkltcGFjdD4ke0ltcGFjdC5yZXN1bHR9PC9zMDpJbXBhY3Q+DQogICAgICAgICAgICA8czA6TGFzdF9OYW1lPiR7TGFzdF9OYW1lLnJlc3VsdH08L3MwOkxhc3RfTmFtZT4NCiAgICAgICAgICAgIDxzMDpMb29rdXBfS2V5d29yZD4ke0xvb2t1cF9LZXl3b3JkLnJlc3VsdH08L3MwOkxvb2t1cF9LZXl3b3JkPg0KICAgICAgICAgICAgPHMwOk1hbnVmYWN0dXJlcj4ke01hbnVmYWN0dXJlci5yZXN1bHR9PC9zMDpNYW51ZmFjdHVyZXI+DQogICAgICAgICAgICA8czA6UHJvZHVjdF9DYXRlZ29yaXphdGlvbl9UaWVyXzE+JHtQcm9kdWN0X0NhdGVnb3JpemF0aW9uX1RpZXJfMS5yZXN1bHR9PC9zMDpQcm9kdWN0X0NhdGVnb3JpemF0aW9uX1RpZXJfMT4NCiAgICAgICAgICAgIDxzMDpQcm9kdWN0X0NhdGVnb3JpemF0aW9uX1RpZXJfMj4ke1Byb2R1Y3RfQ2F0ZWdvcml6YXRpb25fVGllcl8yLnJlc3VsdH08L3MwOlByb2R1Y3RfQ2F0ZWdvcml6YXRpb25fVGllcl8yPg0KICAgICAgICAgICAgPHMwOlByb2R1Y3RfQ2F0ZWdvcml6YXRpb25fVGllcl8zPiR7UHJvZHVjdF9DYXRlZ29yaXphdGlvbl9UaWVyXzMucmVzdWx0fTwvczA6UHJvZHVjdF9DYXRlZ29yaXphdGlvbl9UaWVyXzM+DQogICAgICAgICAgICA8czA6UHJvZHVjdF9Nb2RlbF9WZXJzaW9uPiR7UHJvZHVjdF9Nb2RlbF9WZXJzaW9uLnJlc3VsdH08L3MwOlByb2R1Y3RfTW9kZWxfVmVyc2lvbj4NCiAgICAgICAgICAgIDxzMDpQcm9kdWN0X05hbWU+JHtQcm9kdWN0X05hbWUucmVzdWx0fTwvczA6UHJvZHVjdF9OYW1lPg0KICAgICAgICAgICAgPHMwOlJlcG9ydGVkX1NvdXJjZT4ke1JlcG9ydGVkX1NvdXJjZS5yZXN1bHR9PC9zMDpSZXBvcnRlZF9Tb3VyY2U+DQogICAgICAgICAgICA8czA6UmVzb2x1dGlvbj4ke1Jlc29sdXRpb24ucmVzdWx0fTwvczA6UmVzb2x1dGlvbj4NCiAgICAgICAgICAgIDxzMDpSZXNvbHV0aW9uX0NhdGVnb3J5X1RpZXJfMT4ke1Jlc29sdXRpb25fQ2F0ZWdvcnlfVGllcl8xLnJlc3VsdH08L3MwOlJlc29sdXRpb25fQ2F0ZWdvcnlfVGllcl8xPg0KICAgICAgICAgICAgPHMwOlJlc29sdXRpb25fQ2F0ZWdvcnlfVGllcl8yPiR7UmVzb2x1dGlvbl9DYXRlZ29yeV9UaWVyXzIucmVzdWx0fTwvczA6UmVzb2x1dGlvbl9DYXRlZ29yeV9UaWVyXzI+DQogICAgICAgICAgICA8czA6UmVzb2x1dGlvbl9DYXRlZ29yeV9UaWVyXzM+JHtSZXNvbHV0aW9uX0NhdGVnb3J5X1RpZXJfMy5yZXN1bHR9PC9zMDpSZXNvbHV0aW9uX0NhdGVnb3J5X1RpZXJfMz4NCiAgICAgICAgICAgIDxzMDpTZXJ2aWNlX1R5cGU+JHtTZXJ2aWNlX1R5cGUucmVzdWx0fTwvczA6U2VydmljZV9UeXBlPg0KICAgICAgICAgICAgPHMwOlN0YXR1cz4ke1N0YXR1cy5yZXN1bHR9PC9zMDpTdGF0dXM+DQogICAgICAgICAgICA8czA6QWN0aW9uPiR7QWN0aW9uLnJlc3VsdH08L3MwOkFjdGlvbj4NCiAgICAgICAgICAgIDxzMDpDcmVhdGVfUmVxdWVzdD4ke0NyZWF0ZV9SZXF1ZXN0LnJlc3VsdH08L3MwOkNyZWF0ZV9SZXF1ZXN0Pg0KICAgICAgICAgICAgPHMwOlN1bW1hcnk+JHtTdW1tYXJ5LnJlc3VsdH08L3MwOlN1bW1hcnk+DQogICAgICAgICAgICA8czA6Tm90ZXM+JHtOb3Rlcy5yZXN1bHR9PC9zMDpOb3Rlcz4NCiAgICAgICAgICAgIDxzMDpVcmdlbmN5PiR7VXJnZW5jeS5yZXN1bHR9PC9zMDpVcmdlbmN5Pg0KICAgICAgICAgICAgPHMwOldvcmtfSW5mb19TdW1tYXJ5PiR7V29ya19JbmZvX1N1bW1hcnkucmVzdWx0fTwvczA6V29ya19JbmZvX1N1bW1hcnk+DQogICAgICAgICAgICA8czA6V29ya19JbmZvX05vdGVzPiR7V29ya19JbmZvX05vdGVzLnJlc3VsdH08L3MwOldvcmtfSW5mb19Ob3Rlcz4NCiAgICAgICAgICAgIDxzMDpXb3JrX0luZm9fVHlwZT4ke1dvcmtfSW5mb19UeXBlLnJlc3VsdH08L3MwOldvcmtfSW5mb19UeXBlPg0KICAgICAgICAgICAgPHMwOldvcmtfSW5mb19EYXRlPiR7V29ya19JbmZvX0RhdGUucmVzdWx0fTwvczA6V29ya19JbmZvX0RhdGU+DQogICAgICAgICAgICA8czA6V29ya19JbmZvX1NvdXJjZT4ke1dvcmtfSW5mb19Tb3VyY2UucmVzdWx0fTwvczA6V29ya19JbmZvX1NvdXJjZT4NCiAgICAgICAgICAgIDxzMDpXb3JrX0luZm9fTG9ja2VkPiR7V29ya19JbmZvX0xvY2tlZC5yZXN1bHR9PC9zMDpXb3JrX0luZm9fTG9ja2VkPg0KICAgICAgICAgICAgPHMwOldvcmtfSW5mb19WaWV3X0FjY2Vzcz4ke1dvcmtfSW5mb19WaWV3X0FjY2Vzcy5yZXN1bHR9PC9zMDpXb3JrX0luZm9fVmlld19BY2Nlc3M+DQogICAgICAgICAgICA8czA6TWlkZGxlX0luaXRpYWw+JHtNaWRkbGVfSW5pdGlhbC5yZXN1bHR9PC9zMDpNaWRkbGVfSW5pdGlhbD4NCiAgICAgICAgICAgIDxzMDpTdGF0dXNfUmVhc29uPiR7U3RhdHVzX1JlYXNvbi5yZXN1bHR9PC9zMDpTdGF0dXNfUmVhc29uPg0KICAgICAgICAgICAgPHMwOkRpcmVjdF9Db250YWN0X0ZpcnN0X05hbWU+JHtEaXJlY3RfQ29udGFjdF9GaXJzdF9OYW1lLnJlc3VsdH08L3MwOkRpcmVjdF9Db250YWN0X0ZpcnN0X05hbWU+DQogICAgICAgICAgICA8czA6RGlyZWN0X0NvbnRhY3RfTWlkZGxlX0luaXRpYWw+JHtEaXJlY3RfQ29udGFjdF9NaWRkbGVfSW5pdGlhbC5yZXN1bHR9PC9zMDpEaXJlY3RfQ29udGFjdF9NaWRkbGVfSW5pdGlhbD4NCiAgICAgICAgICAgIDxzMDpEaXJlY3RfQ29udGFjdF9MYXN0X05hbWU+JHtEaXJlY3RfQ29udGFjdF9MYXN0X05hbWUucmVzdWx0fTwvczA6RGlyZWN0X0NvbnRhY3RfTGFzdF9OYW1lPg0KICAgICAgICAgICAgPHMwOlRlbXBsYXRlSUQ+JHtUZW1wbGF0ZUlELnJlc3VsdH08L3MwOlRlbXBsYXRlSUQ+DQogICAgICAgICAgICA8czA6U2VydmljZUNJPiR7U2VydmljZUNJLnJlc3VsdH08L3MwOlNlcnZpY2VDST4NCiAgICAgICAgICAgIDxzMDpTZXJ2aWNlQ0lfUmVjb25JRD4ke1NlcnZpY2VDSV9SZWNvbklELnJlc3VsdH08L3MwOlNlcnZpY2VDSV9SZWNvbklEPg0KICAgICAgICAgICAgPHMwOkhQRF9DST4ke0hQRF9DSS5yZXN1bHR9PC9zMDpIUERfQ0k+DQogICAgICAgICAgICA8czA6SFBEX0NJX1JlY29uSUQ+JHtIUERfQ0lfUmVjb25JRC5yZXN1bHR9PC9zMDpIUERfQ0lfUmVjb25JRD4NCiAgICAgICAgICAgIDxzMDpIUERfQ0lfRm9ybU5hbWU+JHtIUERfQ0lfRm9ybU5hbWUucmVzdWx0fTwvczA6SFBEX0NJX0Zvcm1OYW1lPg0KICAgICAgICAgICAgPHMwOldvcmtJbmZvQXR0YWNobWVudDFOYW1lPiR7V29ya0luZm9BdHRhY2htZW50MU5hbWUucmVzdWx0fTwvczA6V29ya0luZm9BdHRhY2htZW50MU5hbWU+DQogICAgICAgICAgICA8czA6V29ya0luZm9BdHRhY2htZW50MURhdGE+JHtXb3JrSW5mb0F0dGFjaG1lbnQxRGF0YS5yZXN1bHR9PC9zMDpXb3JrSW5mb0F0dGFjaG1lbnQxRGF0YT4NCiAgICAgICAgICAgIDxzMDpXb3JrSW5mb0F0dGFjaG1lbnQxT3JpZ1NpemU+JHtXb3JrSW5mb0F0dGFjaG1lbnQxT3JpZ1NpemUucmVzdWx0fTwvczA6V29ya0luZm9BdHRhY2htZW50MU9yaWdTaXplPg0KICAgICAgICAgICAgPHMwOkxvZ2luX0lEPiR7TG9naW5fSUQucmVzdWx0fTwvczA6TG9naW5fSUQ+DQogICAgICAgICAgICA8czA6Q3VzdG9tZXJfQ29tcGFueT4ke0N1c3RvbWVyX0NvbXBhbnkucmVzdWx0fTwvczA6Q3VzdG9tZXJfQ29tcGFueT4NCiAgICAgICAgICAgIDxzMDpDb3Jwb3JhdGVfSUQ+JHtDb3Jwb3JhdGVfSUQucmVzdWx0fTwvczA6Q29ycG9yYXRlX0lEPg0KICAgICAgICA8L3MwOkhlbHBEZXNrX1N1Ym1pdF9TZXJ2aWNlPg0KICAgIDwvc29hcDpCb2R5Pg0KPC9zb2FwOkVudmVsb3BlPg=="/>
            <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
            <L7p:DataType variableDataType="message"/>
            <L7p:VariableToSet stringValue="message"/>
        </L7p:SetVariable>
        <wsp:OneOrMore wsp:Usage="Required">
            <wsp:All wsp:Usage="Required">
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLnJlcXVlc3RUaW1lc3RhbXB9"/>
                    <L7p:VariableToSet stringValue="Timestamp"/>
                </L7p:SetVariable>
                <L7p:Regex>
                    <L7p:AutoTarget booleanValue="false"/>
                    <L7p:OtherTargetMessageVariable stringValue="Timestamp"/>
                    <L7p:Regex stringValue="\-|T|\:|\."/>
                    <L7p:RegexVar stringValue="Timestamp"/>
                    <L7p:Replace booleanValue="true"/>
                    <L7p:Replacement stringValue=""/>
                    <L7p:Target target="OTHER"/>
                </L7p:Regex>
                <L7p:Regex>
                    <L7p:AutoTarget booleanValue="false"/>
                    <L7p:CaptureVar stringValue="Timestamp"/>
                    <L7p:OtherTargetMessageVariable stringValue="Timestamp"/>
                    <L7p:Regex stringValue="^................."/>
                    <L7p:Replacement stringValue=""/>
                    <L7p:Target target="OTHER"/>
                </L7p:Regex>
                <L7p:EvaluateJsonPathExpression>
                    <L7p:Enabled booleanValue="false"/>
                    <L7p:Expression stringValue=".CreacionINC.Body.Corporate_ID"/>
                    <L7p:VariablePrefix stringValue="Corporate_ID"/>
                </L7p:EvaluateJsonPathExpression>
                <L7p:AuditDetailAssertion>
                    <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                    <L7p:Detail stringValue="IDTRANSACTION: ${requestId}  REQUEST BACKEND: ${message.mainpart} "/>
                    <L7p:LoggingOnly booleanValue="true"/>
                </L7p:AuditDetailAssertion>
                <L7p:HttpRoutingAssertion>
                    <L7p:FailOnErrorStatus booleanValue="false"/>
                    <L7p:PassThroughSoapFaults booleanValue="false"/>
                    <L7p:ProtectedServiceUrl stringValue="https://10.49.22.7:8443/gw/GDS/MockJsonLeo"/>
                    <L7p:ProxyPassword stringValueNull="null"/>
                    <L7p:ProxyUsername stringValueNull="null"/>
                    <L7p:RequestHeaderRules httpPassthroughRuleSet="included">
                        <L7p:ForwardAll booleanValue="true"/>
                        <L7p:Rules httpPassthroughRules="included">
                            <L7p:item httpPassthroughRule="included">
                                <L7p:Name stringValue="Cookie"/>
                            </L7p:item>
                            <L7p:item httpPassthroughRule="included">
                                <L7p:Name stringValue="SOAPAction"/>
                            </L7p:item>
                        </L7p:Rules>
                    </L7p:RequestHeaderRules>
                    <L7p:RequestParamRules httpPassthroughRuleSet="included">
                        <L7p:ForwardAll booleanValue="true"/>
                        <L7p:Rules httpPassthroughRules="included"/>
                    </L7p:RequestParamRules>
                    <L7p:ResponseHeaderRules httpPassthroughRuleSet="included">
                        <L7p:ForwardAll booleanValue="true"/>
                        <L7p:Rules httpPassthroughRules="included">
                            <L7p:item httpPassthroughRule="included">
                                <L7p:Name stringValue="Set-Cookie"/>
                            </L7p:item>
                        </L7p:Rules>
                    </L7p:ResponseHeaderRules>
                    <L7p:ResponseMsgDest stringValue="serviceResponse"/>
                    <L7p:SamlAssertionVersion intValue="2"/>
                </L7p:HttpRoutingAssertion>
                <L7p:AuditDetailAssertion>
                    <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                    <L7p:Detail stringValue="IDTRANSACTION: ${requestId} BACKEND: ${httpRouting.url} LATENCY: ${httpRouting.latency} ms REASON CODE: ${httpRouting.reasonCode} RESPONSEBACKEND: ${response.mainpart} "/>
                    <L7p:LoggingOnly booleanValue="true"/>
                </L7p:AuditDetailAssertion>
                <L7p:ComparisonAssertion>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="Evalua si el estado de la respuesta es OK"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:CaseSensitive booleanValue="false"/>
                    <L7p:Expression1 stringValue="${httpRouting.reasonCode}"/>
                    <L7p:Expression2 stringValue="200"/>
                    <L7p:Predicates predicates="included">
                        <L7p:item binary="included">
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:RightValue stringValue="200"/>
                        </L7p:item>
                    </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                    <wsp:All wsp:Usage="Required">
                        <L7p:EvaluateJsonPathExpression>
                            <L7p:AssertionComment assertionComment="included">
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Extrae el Body"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:AssertionComment>
                            <L7p:Enabled booleanValue="false"/>
                            <L7p:Expression stringValue="$.Create_RequestPayment_RSP.Body"/>
                            <L7p:Target target="RESPONSE"/>
                            <L7p:VariablePrefix stringValue="resultBody"/>
                        </L7p:EvaluateJsonPathExpression>
                        <L7p:Regex>
                            <L7p:AssertionComment assertionComment="included">
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Arregla el Body"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:AssertionComment>
                            <L7p:AutoTarget booleanValue="false"/>
                            <L7p:Enabled booleanValue="false"/>
                            <L7p:OtherTargetMessageVariable stringValue="resultBody.result"/>
                            <L7p:Regex stringValue="^\{|\}$"/>
                            <L7p:Replace booleanValue="true"/>
                            <L7p:Replacement stringValue=""/>
                            <L7p:Target target="OTHER"/>
                        </L7p:Regex>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHtzZXJ2aWNlUmVzcG9uc2UubWFpbnBhcnR9"/>
                            <L7p:ContentType stringValue="application/json; charset=utf-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:Enabled booleanValue="false"/>
                            <L7p:VariableToSet stringValue="responseBackend"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHtyZXF1ZXN0LnRpbWUubG9jYWwueXl5eS1NTS1kZCdUJ0hIOm1tOnNzLlNTU30="/>
                            <L7p:ContentType stringValue="text/json; charset=utf-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:VariableToSet stringValue="responseTimeStamp"/>
                        </L7p:SetVariable>
                        <L7p:EvaluateJsonPathExpression>
                            <L7p:Enabled booleanValue="false"/>
                            <L7p:Expression stringValue=".cantidadMuebles.sillas"/>
                            <L7p:OtherTargetMessageVariable stringValue="responseBackend"/>
                            <L7p:Target target="OTHER"/>
                            <L7p:VariablePrefix stringValue="sillas"/>
                        </L7p:EvaluateJsonPathExpression>
                        <L7p:EvaluateJsonPathExpression>
                            <L7p:Enabled booleanValue="false"/>
                            <L7p:Expression stringValue=".cantidadMuebles.mesas"/>
                            <L7p:OtherTargetMessageVariable stringValue="responseBackend"/>
                            <L7p:Target target="OTHER"/>
                            <L7p:VariablePrefix stringValue="mesas"/>
                        </L7p:EvaluateJsonPathExpression>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="ew0KCSJyZXN1bHQiOiB7DQoJCSJ0cmFuc2FjdGlvbklkIjogIiR7cmVxdWVzdElkfSIsDQoJCSJjb2RlIjogIjIwMCIsDQoJCSJkZXNjcmlwdGlvbiI6ICJPSyIsDQoJCSJkZXNjcmlwdGlvbkRldGFpbCI6ICJQcm9jZXNhbWllbnRvIGNvbmNsdcOtZG8gZXhpdG9zYW1lbnRlIiwNCgkJInJlc3BvbnNlVGltZXN0YW1wIjogIiR7cmVzcG9uc2VUaW1lU3RhbXAubWFpbnBhcnR9Ig0KCQkJfSwNCgkJCSR7c2VydmljZVJlc3BvbnNlLm1haW5wYXJ0fQkJDQp9"/>
                            <L7p:ContentType stringValue="text/json; charset=utf-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:VariableToSet stringValue="Response"/>
                        </L7p:SetVariable>
                        <L7p:AuditDetailAssertion>
                            <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                            <L7p:Detail stringValue="IDTRANSACTION: ${requestId}  RESPONSE GW: ${serviceResponse} "/>
                            <L7p:LoggingOnly booleanValue="true"/>
                        </L7p:AuditDetailAssertion>
                        <L7p:HardcodedResponse>
                            <L7p:Base64ResponseBody stringValue="JHtSZXNwb25zZS5tYWlucGFydH0K"/>
                            <L7p:ResponseContentType stringValue="text/json; charset=utf-8"/>
                        </L7p:HardcodedResponse>
                    </wsp:All>
                    <wsp:All wsp:Usage="Required">
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="ew0KInJlc3VsdCI6ew0KCSJ0cmFuc2FjdGlvbklkIjoiJHtyZXF1ZXN0SWR9IiwNCgkiY29kZSI6IjIwMCIsDQoJImRlc2NyaXB0aW9uIjoiT0siLA0KCSJkZXNjcmlwdGlvbkRldGFpbCI6IlByb2Nlc2FtaWVudG8gY29uY2x1w61kbyBleGl0b3NhbWVudGUiLA0KCSJyZXNwb25zZVRpbWVzdGFtcCI6IiR7cmVzcG9uc2VUaW1lc3RhbXB9Ig0KCX0NCn0="/>
                            <L7p:ContentType stringValue="application/json; charset=utf-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:VariableToSet stringValue="serviceResponse"/>
                        </L7p:SetVariable>
                        <L7p:AuditDetailAssertion>
                            <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                            <L7p:Detail stringValue="IDTRANSACTION: ${requestId}  RESPONSE GW: ${serviceResponse} "/>
                            <L7p:LoggingOnly booleanValue="true"/>
                        </L7p:AuditDetailAssertion>
                        <L7p:HardcodedResponse>
                            <L7p:Base64ResponseBody stringValue="JHtzZXJ2aWNlUmVzcG9uc2V9CgoK"/>
                            <L7p:ResponseContentType stringValue="application/json; charset=utf-8"/>
                        </L7p:HardcodedResponse>
                    </wsp:All>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="Ruteo"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:assertionComment>
            </wsp:All>
            <wsp:All wsp:Usage="Required">
                <L7p:Encapsulated>
                    <L7p:EncapsulatedAssertionConfigGuid stringValue="14295f18-da19-4f0e-9643-a8c30b3544dc"/>
                    <L7p:EncapsulatedAssertionConfigName stringValue="CodeStatus"/>
                </L7p:Encapsulated>
                <L7p:EvaluateJsonPathExpression>
                    <L7p:Expression stringValue=".SourceError.description"/>
                    <L7p:Target target="RESPONSE"/>
                    <L7p:VariablePrefix stringValue="descriptionDetail"/>
                </L7p:EvaluateJsonPathExpression>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtkZXNjcmlwdGlvbkRldGFpbC5yZXN1bHR9"/>
                    <L7p:VariableToSet stringValue="descriptionDetail"/>
                </L7p:SetVariable>
                <L7p:EvaluateJsonPathExpression>
                    <L7p:Expression stringValue=".SourceError.code"/>
                    <L7p:Target target="RESPONSE"/>
                    <L7p:VariablePrefix stringValue="codeSource"/>
                </L7p:EvaluateJsonPathExpression>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtjb2RlU291cmNlLnJlc3VsdH0="/>
                    <L7p:VariableToSet stringValue="codeSource"/>
                </L7p:SetVariable>
                <L7p:AuditDetailAssertion>
                    <L7p:CustomLoggerSuffix stringValue="entel.api.syslog"/>
                    <L7p:Detail stringValue="IDTRANSACTION: ${requestId} CODE: ${code} DESCRIPTION: ${description} DETAIL: ${descriptionDetail}"/>
                    <L7p:LoggingOnly booleanValue="true"/>
                </L7p:AuditDetailAssertion>
                <L7p:CustomizeErrorResponse>
                    <L7p:Content stringValueReference="inline"><![CDATA[{
"result":{
	"transactionId":"${requestId}",
	"code":"${httpRouting.ReasonCode}",
	"description":"${codeDescription}",
	"descriptionDetail":"${codeSource} - ${descriptionDetail}",
	"responseTimestamp":"${responseTimestamp}"
	}
}]]></L7p:Content>
                    <L7p:ContentType stringValue="application/json; charset=UTF-8"/>
                    <L7p:ExtraHeaders nameValuePairArray="included"/>
                    <L7p:HttpStatus stringValue="${httpRouting.reasonCode}"/>
                </L7p:CustomizeErrorResponse>
                <L7p:RaiseError/>
            </wsp:All>
            <wsp:All wsp:Usage="Required">
                <L7p:Include>
                    <L7p:PolicyGuid stringValue="1b3f18a3-5e88-4cae-9fae-44b459727ac1"/>
                </L7p:Include>
            </wsp:All>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="Logica"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:OneOrMore>
    </wsp:All>
</wsp:Policy>