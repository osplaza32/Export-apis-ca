<?xml version="1.0" encoding="UTF-8"?>
<wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
    <wsp:All wsp:Usage="Required">
        <L7p:JSONSchema>
            <L7p:ResourceInfo staticResourceInfo="included">
                <L7p:Document stringValueReference="inline"><![CDATA[{
  "$id": "http://example.com/example.json",
  "type": "object",
  "definitions": {},
  "$schema": "http://json-schema.org/draft-07/schema#",
  "properties": {
    "header": {
      "$id": "/properties/header",
      "type": "object",
      "properties": {
        "consumerId": {
          "$id": "/properties/header/properties/consumerId",
          "type": "string",
          "title": "The Consumerid Schema ",
          "default": "",
          "examples": [
            ""
          ]
        }
      }
    }
  }
}]]></L7p:Document>
            </L7p:ResourceInfo>
        </L7p:JSONSchema>
        <L7p:EvaluateJsonPathExpression>
            <L7p:Expression stringValue=".header.consumerId"/>
            <L7p:VariablePrefix stringValue="consumerId"/>
        </L7p:EvaluateJsonPathExpression>
        <L7p:SetVariable>
            <L7p:Base64Expression stringValue="PHJlcTp0aW1lc3RhbXA+JHtjb25zdW1lcklkLnJlc3VsdH08L3JlcTp0aW1lc3RhbXA+"/>
            <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
            <L7p:DataType variableDataType="message"/>
            <L7p:VariableToSet stringValue="xmlMEssage"/>
        </L7p:SetVariable>
        <L7p:Regex>
            <L7p:AutoTarget booleanValue="false"/>
            <L7p:Regex stringValue="^(.)|}$"/>
            <L7p:Replace booleanValue="true"/>
            <L7p:Replacement stringValue=""/>
        </L7p:Regex>
        <L7p:HardcodedResponse>
            <L7p:Base64ResponseBody stringValue="ewoiY29uc3VtZXIiOiIke2NvbnN1bWVySWQucmVzdWx0fSIKCn0="/>
            <L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/>
        </L7p:HardcodedResponse>
    </wsp:All>
</wsp:Policy>