<?xml version="1.0" encoding="UTF-8"?>
<wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
    <wsp:All wsp:Usage="Required">
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" ============================================"/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" === ***  THIS POLICY IS READ ONLY ***"/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" === Required changes can be implemented in policies in the 'Customizations' folder "/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" === The policies within that folder will have the same name as this policy but "/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" === suffixed with 'Extension'"/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" === Suffixed policies can be used to extend functionality"/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" === If you find you cannot add your customizations using the policies in the 'Customizations' folder"/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" === please contact CA APIM Support so we can improve customization capability"/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue=" ============================================"/>
        </L7p:CommentAssertion>
        <L7p:CommentAssertion>
            <L7p:Comment stringValue="This policy can be found and should be used as 'Encapsulated Assertion'!"/>
        </L7p:CommentAssertion>
        <L7p:SetVariable>
            <L7p:AssertionComment assertionComment="included">
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="// to execute the optional branch below this variable has to be set to 'false' within that branch"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:AssertionComment>
            <L7p:Base64Expression stringValue="dHJ1ZQ=="/>
            <L7p:VariableToSet stringValue="useOTKDB"/>
        </L7p:SetVariable>
        <wsp:OneOrMore wsp:Usage="Required">
            <L7p:Include>
                <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// Optional"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:AssertionComment>
                <L7p:PolicyGuid stringValue="87a6a63d-7cc1-49bc-aab2-6e6c10e2659a"/>
            </L7p:Include>
            <wsp:All wsp:Usage="Required">
                <L7p:ComparisonAssertion>
                    <L7p:CaseSensitive booleanValue="false"/>
                    <L7p:Expression1 stringValue="${useOTKDB}"/>
                    <L7p:Expression2 stringValue="true"/>
                    <L7p:Predicates predicates="included">
                        <L7p:item binary="included">
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:RightValue stringValue="true"/>
                        </L7p:item>
                    </L7p:Predicates>
                </L7p:ComparisonAssertion>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="PHZhbHVlcyB4bWxucz0iaHR0cDovL25zLmw3dGVjaC5jb20vMjAxMi8xMS9vdGstY2xpZW50c3RvcmUiPg0KPC92YWx1ZXM+"/>
                    <L7p:ContentType stringValue="text/xml;charset=UTF-8"/>
                    <L7p:DataType variableDataType="message"/>
                    <L7p:VariableToSet stringValue="values"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue=""/>
                    <L7p:VariableToSet stringValue="content-type"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>
                                <L7p:value stringValue="initialize"/>
                            </L7p:entry>
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="will be overwritten in the case of an error"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:Base64Expression stringValue=""/>
                    <L7p:VariableToSet stringValue="error.code"/>
                </L7p:SetVariable>
                <wsp:OneOrMore wsp:Usage="Required">
                    <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:Expression1 stringValue="${queryOffset}"/>
                            <L7p:Expression2 stringValue=""/>
                            <L7p:MultivaluedComparison multivaluedComparison="FAIL"/>
                            <L7p:Operator operator="EMPTY"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="MA=="/>
                            <L7p:DataType variableDataType="int"/>
                            <L7p:VariableToSet stringValue="offset"/>
                        </L7p:SetVariable>
                    </wsp:All>
                    <L7p:SetVariable>
                        <L7p:Base64Expression stringValue="JHtxdWVyeU9mZnNldH0="/>
                        <L7p:DataType variableDataType="int"/>
                        <L7p:VariableToSet stringValue="offset"/>
                    </L7p:SetVariable>
                    <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>
                                <L7p:value stringValue="Offset"/>
                            </L7p:entry>
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="Set the offset for the database query"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:assertionComment>
                </wsp:OneOrMore>
                <wsp:OneOrMore wsp:Usage="Required">
                    <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:Expression1 stringValue="${master}"/>
                            <L7p:Expression2 stringValue=""/>
                            <L7p:MultivaluedComparison multivaluedComparison="FAIL"/>
                            <L7p:Operator operator="EMPTY"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="ZmFsc2U="/>
                            <L7p:VariableToSet stringValue="master"/>
                        </L7p:SetVariable>
                    </wsp:All>
                    <L7p:SetVariable>
                        <L7p:Base64Expression stringValue="JHttYXN0ZXJ9"/>
                        <L7p:VariableToSet stringValue="master"/>
                    </L7p:SetVariable>
                    <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>
                                <L7p:value stringValue="master"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:assertionComment>
                </wsp:OneOrMore>
                <wsp:OneOrMore wsp:Usage="Required">
                    <wsp:All wsp:Usage="Required">
                        <L7p:CommentAssertion>
                            <L7p:Comment stringValue="In most cases this endpoints called if a client requests a token"/>
                        </L7p:CommentAssertion>
                        <L7p:CommentAssertion>
                            <L7p:Comment stringValue="The endpoint will return values for one specific client_id."/>
                        </L7p:CommentAssertion>
                        <L7p:CommentAssertion>
                            <L7p:Comment stringValue="These values will hardly change. Therefore they can be hold in a local cache assertion."/>
                        </L7p:CommentAssertion>
                        <L7p:CommentAssertion>
                            <L7p:Comment stringValue="The parameter combination 'getAll|client_key' is the indicator that allows us to assume"/>
                        </L7p:CommentAssertion>
                        <L7p:CommentAssertion>
                            <L7p:Comment stringValue="that this a request to gather client values for validation purposes."/>
                        </L7p:CommentAssertion>
                        <L7p:CommentAssertion>
                            <L7p:Comment stringValue="We will handle this combination as privileged request."/>
                        </L7p:CommentAssertion>
                        <L7p:ComparisonAssertion>
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:Expression1 stringValue="${operation}"/>
                            <L7p:Operator operatorNull="null"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item regex="included">
                                    <L7p:Pattern stringValue="getAll"/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:ComparisonAssertion>
                            <L7p:Expression1 stringValue="${client_key}"/>
                            <L7p:Expression2 stringValue=""/>
                            <L7p:Negate booleanValue="true"/>
                            <L7p:Operator operator="EMPTY"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <wsp:OneOrMore wsp:Usage="Required">
                            <wsp:All wsp:Usage="Required">
                                <L7p:Encapsulated>
                                    <L7p:EncapsulatedAssertionConfigGuid stringValue="68ad78a1-f4a1-4568-91e1-0980d95c75cd"/>
                                    <L7p:EncapsulatedAssertionConfigName stringValue="OTK Cache Look Up"/>
                                    <L7p:Parameters mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="cacheID"/>
                                    <L7p:value stringValue="allClientValuesCache"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="cacheKey"/>
                                    <L7p:value stringValue="${client_key}getAll"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="maxAcceptableAge"/>
                                    <L7p:value stringValue="30"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="maxEntryAge"/>
                                    <L7p:value stringValue="30"/>
                                    </L7p:entry>
                                    </L7p:Parameters>
                                </L7p:Encapsulated>
                                <L7p:ResponseXpathAssertion>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Exists"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Check if an entry with values has been found. This will not be the case if the client has just been updated"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:VariablePrefix stringValue=""/>
                                    <L7p:XmlMsgSrc stringValue="resp"/>
                                    <L7p:XpathExpression xpathExpressionValue="included">
                                    <L7p:Expression stringValue="/ns:values/ns:clients/ns:values/ns:value/ns:client_ident/text()"/>
                                    <L7p:Namespaces mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="ns"/>
                                    <L7p:value stringValue="http://ns.l7tech.com/2012/11/otk-clientstore"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="s"/>
                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                    </L7p:entry>
                                    </L7p:Namespaces>
                                    <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                    </L7p:XpathExpression>
                                </L7p:ResponseXpathAssertion>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="JHtyZXNwLm1haW5wYXJ0fQ=="/>
                                    <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
                                    <L7p:DataType variableDataType="message"/>
                                    <L7p:VariableToSet stringValue="values"/>
                                </L7p:SetVariable>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="from cache"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="client, client_key values"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT
                ock.client_key AS CLIENT_KEY,
                ock.secret AS CLIENT_SECRET,
                ock.scope AS SCOPE,
                ock.callback AS CALLBACK,
                ock.environment AS ENVIRONMENT,
                ock.expiration AS EXPIRATION,
                ock.status AS STATUS,
                ock.created AS KEY_CREATED,
                ock.created_by AS CREATED_BY,
                ock.custom AS KEY_CUSTOM,
                ock.serviceIds AS SERVICE_IDS,
                ock.accountPlanMappingIds AS ACCOUNT_PLAN_MAPPING_IDS,
                oc.client_ident AS CLIENT_IDENT,
                oc.name AS CLIENT_NAME,
                oc.type AS CLIENT_TYPE,
                oc.description AS DESCRIPTION,
                oc.organization AS ORGANIZATION,
                oc.registered_by AS REGISTERED_BY,
                oc.created AS CLIENT_CREATED,
                oc.custom as CLIENT_CUSTOM
                FROM oauth_client_key ock, oauth_client oc
                WHERE ock.client_key = ${client_key}
                AND ock.client_ident = oc.client_ident]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="client_and_key"/>
                                    </L7p:JdbcQuery>
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${client_and_key.queryresult.count}"/>
                                    <L7p:Expression2 stringValue="0"/>
                                    <L7p:Operator operator="GT"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="GT"/>
                                    <L7p:RightValue stringValue="0"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${client_and_key.CLIENT_CUSTOM}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="e30="/>
                                    <L7p:VariableToSet stringValue="client_and_key.CLIENT_CUSTOM"/>
                                    </L7p:SetVariable>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="client_custom"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="set an empty value to '{}'"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${client_and_key.KEY_CUSTOM}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="e30="/>
                                    <L7p:VariableToSet stringValue="client_and_key.KEY_CUSTOM"/>
                                    </L7p:SetVariable>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="key_custom"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="set an empty value to '{}'"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjx2YWx1ZXMgeG1sbnM9Imh0dHA6Ly9ucy5sN3RlY2guY29tLzIwMTIvMTEvb3RrLWNsaWVudHN0b3JlIj4NCiAgICA8Y2xpZW50cz4NCiAgICAgICAgPHZhbHVlcz4NCiAgICAgICAgICAgIDx2YWx1ZSBpbmRleD0iMSI+DQogICAgICAgICAgICAgICAgPGNsaWVudF9pZGVudD48IVtDREFUQVske2NsaWVudF9hbmRfa2V5LkNMSUVOVF9JREVOVH1dXT48L2NsaWVudF9pZGVudD4NCiAgICAgICAgICAgICAgICA8bmFtZT48IVtDREFUQVske2NsaWVudF9hbmRfa2V5LkNMSUVOVF9OQU1FfV1dPjwvbmFtZT4NCiAgICAgICAgICAgICAgICA8dHlwZT48IVtDREFUQVske2NsaWVudF9hbmRfa2V5LkNMSUVOVF9UWVBFfV1dPjwvdHlwZT4NCiAgICAgICAgICAgICAgICA8ZGVzY3JpcHRpb24+PCFbQ0RBVEFbJHtjbGllbnRfYW5kX2tleS5ERVNDUklQVElPTn1dXT48L2Rlc2NyaXB0aW9uPg0KICAgICAgICAgICAgICAgIDxvcmdhbml6YXRpb24+PCFbQ0RBVEFbJHtjbGllbnRfYW5kX2tleS5PUkdBTklaQVRJT059XV0+PC9vcmdhbml6YXRpb24+DQogICAgICAgICAgICAgICAgPHJlZ2lzdGVyZWRfYnk+PCFbQ0RBVEFbJHtjbGllbnRfYW5kX2tleS5SRUdJU1RFUkVEX0JZfV1dPjwvcmVnaXN0ZXJlZF9ieT4NCiAgICAgICAgICAgICAgICA8Y3JlYXRlZD48IVtDREFUQVske2NsaWVudF9hbmRfa2V5LkNMSUVOVF9DUkVBVEVEfV1dPjwvY3JlYXRlZD4NCiAgICAgICAgICAgICAgICA8Y2xpZW50X2N1c3RvbT48IVtDREFUQVske2NsaWVudF9hbmRfa2V5LkNMSUVOVF9DVVNUT019XV0+PC9jbGllbnRfY3VzdG9tPg0KICAgICAgICAgICAgPC92YWx1ZT4NCiAgICAgICAgPC92YWx1ZXM+DQogICAgPC9jbGllbnRzPg0KICAgIDxrZXlzPg0KICAgICAgICA8dmFsdWVzPg0KICAgICAgICAgICAgPHZhbHVlIGluZGV4PSIxIj4NCiAgICAgICAgICAgICAgICA8Y2xpZW50X2lkZW50PjwhW0NEQVRBWyR7Y2xpZW50X2FuZF9rZXkuQ0xJRU5UX0lERU5UfV1dPjwvY2xpZW50X2lkZW50Pg0KICAgICAgICAgICAgICAgIDxjbGllbnRfa2V5PjwhW0NEQVRBWyR7Y2xpZW50X2FuZF9rZXkuQ0xJRU5UX0tFWX1dXT48L2NsaWVudF9rZXk+DQogICAgICAgICAgICAgICAgPHNlY3JldD48IVtDREFUQVske2NsaWVudF9hbmRfa2V5LkNMSUVOVF9TRUNSRVR9XV0+PC9zZWNyZXQ+DQogICAgICAgICAgICAgICAgPHNjb3BlPjwhW0NEQVRBWyR7Y2xpZW50X2FuZF9rZXkuU0NPUEV9XV0+PC9zY29wZT4NCiAgICAgICAgICAgICAgICA8Y2FsbGJhY2s+PCFbQ0RBVEFbJHtjbGllbnRfYW5kX2tleS5DQUxMQkFDS31dXT48L2NhbGxiYWNrPg0KICAgICAgICAgICAgICAgIDxlbnZpcm9ubWVudD48IVtDREFUQVske2NsaWVudF9hbmRfa2V5LkVOVklST05NRU5UfV1dPjwvZW52aXJvbm1lbnQ+DQogICAgICAgICAgICAgICAgPGV4cGlyYXRpb24+PCFbQ0RBVEFbJHtjbGllbnRfYW5kX2tleS5FWFBJUkFUSU9OfV1dPjwvZXhwaXJhdGlvbj4NCiAgICAgICAgICAgICAgICA8c3RhdHVzPjwhW0NEQVRBWyR7Y2xpZW50X2FuZF9rZXkuU1RBVFVTfV1dPjwvc3RhdHVzPg0KICAgICAgICAgICAgICAgIDxjcmVhdGVkPjwhW0NEQVRBWyR7Y2xpZW50X2FuZF9rZXkuS0VZX0NSRUFURUR9XV0+PC9jcmVhdGVkPg0KICAgICAgICAgICAgICAgIDxjcmVhdGVkX2J5PjwhW0NEQVRBWyR7Y2xpZW50X2FuZF9rZXkuQ1JFQVRFRF9CWX1dXT48L2NyZWF0ZWRfYnk+DQogICAgICAgICAgICAgICAgPGNsaWVudF9rZXlfY3VzdG9tPjwhW0NEQVRBWyR7Y2xpZW50X2FuZF9rZXkuS0VZX0NVU1RPTX1dXT48L2NsaWVudF9rZXlfY3VzdG9tPg0KICAgICAgICAgICAgICAgIDxzZXJ2aWNlaWRzPjwhW0NEQVRBWyR7Y2xpZW50X2FuZF9rZXkuU0VSVklDRV9JRFN9XV0+PC9zZXJ2aWNlaWRzPg0KICAgICAgICAgICAgICAgIDxhY2NvdW50cGxhbm1hcHBpbmdpZHM+PCFbQ0RBVEFbJHtjbGllbnRfYW5kX2tleS5BQ0NPVU5UX1BMQU5fTUFQUElOR19JRFN9XV0+PC9hY2NvdW50cGxhbm1hcHBpbmdpZHM+DQogICAgICAgICAgICA8L3ZhbHVlPg0KICAgICAgICA8L3ZhbHVlcz4NCiAgICA8L2tleXM+DQo8L3ZhbHVlcz4="/>
                                    <L7p:ContentType stringValue="text/xml;charset=UTF-8"/>
                                    <L7p:DataType variableDataType="message"/>
                                    <L7p:VariableToSet stringValue="values"/>
                                    </L7p:SetVariable>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="found"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:TrueAssertion>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="none"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="use an empty result"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    </L7p:TrueAssertion>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Client"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Either find data or not. In the latter case do not overwrite 'values'"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:Encapsulated>
                                    <L7p:EncapsulatedAssertionConfigGuid stringValue="e5ee8bcf-1796-4297-88dd-c838031a6f6a"/>
                                    <L7p:EncapsulatedAssertionConfigName stringValue="OTK Cache Store"/>
                                    <L7p:Parameters mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="cacheID"/>
                                    <L7p:value stringValue="allClientValuesCache"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="cacheKey"/>
                                    <L7p:value stringValue="${client_key}getAll"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="doNotCacheSoapFaults"/>
                                    <L7p:value stringValue="true"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="maxEntries"/>
                                    <L7p:value stringValue="10000"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="maxEntryAge"/>
                                    <L7p:value stringValue="30"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="maxEntrySize"/>
                                    <L7p:value stringValue="100000"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="msg"/>
                                    <L7p:value stringValue="values"/>
                                    </L7p:entry>
                                    </L7p:Parameters>
                                </L7p:Encapsulated>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="database"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <L7p:assertionComment>
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="locate"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="OAuth request"/>
                                </L7p:entry>
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Preferred handling of getAll|client_key in the context of an oauth token request, not a managent request"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:Expression1 stringValue="${operation}"/>
                            <L7p:Operator operatorNull="null"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item regex="included">
                                    <L7p:Pattern stringValue="getKey"/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <wsp:OneOrMore wsp:Usage="Required">
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${filterStatus}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${client_ident}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${environment}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock
                WHERE ock.created_by like ${registered_by}
                AND ock.status = ${filterStatus}
                AND ock.environment like ${environment}
                AND ock.client_ident = ${client_ident}
                ORDER BY ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE created_by like ${registered_by}
                AND status = ${filterStatus}
                AND environment like ${environment}
                AND client_ident = ${client_ident}
                ORDER BY created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Check for the database system"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given registered_by, environment, status"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${environment}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:CommentAssertion>
                                    <L7p:Comment stringValue="=== OAuth Manager - search client_key of given user"/>
                                    </L7p:CommentAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock
                WHERE ock.created_by like ${registered_by}
                AND ock.status = ${filterStatus}
                AND ock.client_ident = ${client_ident}
                ORDER BY ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE created_by like ${registered_by}
                AND status = ${filterStatus}
                AND client_ident = ${client_ident}
                ORDER BY created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given registered_by, status"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${environment}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock
                WHERE ock.status = ${filterStatus}
                AND ock.environment like ${environment}
                AND ock.client_ident = ${client_ident}
                ORDER BY ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE status = ${filterStatus}
                AND environment like ${environment}
                AND client_ident = ${client_ident}
                ORDER BY created_by, created, expiration ASC) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given environment, status"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_key}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock
                WHERE ock.status = ${filterStatus}
                AND ock.client_ident = ${client_ident}
                AND ock.client_key = ${client_key}
                ORDER BY ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE status = ${filterStatus}
                AND client_ident = ${client_ident}
                AND client_key = ${client_key}
                ORDER BY created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given client_key"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${client_ident}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock
                WHERE ock.status = ${filterStatus}
                AND ock.client_ident = ${client_ident}
                ORDER BY ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE status = ${filterStatus}
                AND client_ident = ${client_ident}
                ORDER BY created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given status"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="status, client_ident and other filters"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Filter with 'status' and 'client_ident'. The case when OAuth Manager is used to query client_keys"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_key}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="false"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="false"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret,scope, callback, environment, expiration, status, client_ident, created,created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM oauth_client_key
                WHERE client_key = ${client_key}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// all"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="true"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="true"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret,scope, callback, environment, expiration, status, client_ident, created,created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM oauth_client_key
                WHERE client_key = ${client_key}
                AND client_key = secret]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// only master keys"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// decide to select master-keys only"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given client_key"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock, oauth_client oc
                WHERE ock.client_ident = oc.client_ident
                AND oc.name like ${name}
                AND oc.organization like ${org}
                ORDER BY ock.client_name, ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[select client_key, secret, scope, callback, environment, expiration, status, client_ident, created,created_by, client_name from, custom, serviceIds, accountPlanMappingIds
                ( select oauth_client_key.*, ROWNUM rnum from
                ( select ock.client_key, ock.secret,ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds from oauth_client_key ock LEFT OUTER JOIN
                oauth_client oc ON ock.client_ident = oc.client_ident
                WHERE oc.organization like ${org}
                AND oc.name like ${name}
                ORDER BY ock.client_name, ock.created_by, ock.created, ock.expiration ASC  ) oauth_client_key
                where ROWNUM <= (100+${offset}))
                where rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given name, organization"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock, oauth_client oc
                WHERE ock.client_ident = oc.client_ident
                AND oc.name like ${name}
                ORDER BY ock.client_name, ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[select client_key, secret, scope, callback, environment, expiration, status, client_ident, created,created_by, client_name, custom, serviceIds, accountPlanMappingIds FROM
                ( select oauth_client_key.*, ROWNUM rnum FROM
                ( select ock.client_key, ock.secret,ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds FROM oauth_client_key ock LEFT OUTER JOIN
                oauth_client oc ON ock.client_ident = oc.client_ident
                WHERE oc.name LIKE ${name}
                ORDER BY ock.client_name, ock.created_by, ock.created, ock.expiration ASC  ) oauth_client_key
                where ROWNUM <= (100+${offset}))
                where rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given name"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret, oc.organization,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock, oauth_client oc
                WHERE ock.client_ident = oc.client_ident
                AND oc.organization like ${org}
                ORDER BY oc.organization, ock.client_name, ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[select client_key, secret, scope, callback, environment, expiration, status, client_ident, created,created_by, client_name, custom, serviceIds, accountPlanMappingIds from
                ( select oauth_client_key.*, ROWNUM rnum from
                ( select ock.client_key, ock.secret,ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds from oauth_client_key ock LEFT OUTER JOIN
                oauth_client oc ON ock.client_ident = oc.client_ident
                WHERE oc.organization like ${org}
                ORDER BY ock.client_name, ock.created_by, ock.created, ock.expiration ASC  ) oauth_client_key
                where ROWNUM <= (100+${offset}))
                where rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given organization"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_ident}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:CommentAssertion>
                                    <L7p:Comment stringValue="=== OAuth Manager - search client_key of given user"/>
                                </L7p:CommentAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="false"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="false"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret,scope, callback, environment, expiration, status, client_ident, created,created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM oauth_client_key
                WHERE created_by = ${registered_by}
                AND client_ident=${client_ident}
                ORDER BY created_by, created, expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// all"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="true"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="true"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM oauth_client_key
                WHERE created_by = ${registered_by}
                AND client_ident=${client_ident}
                AND client_key=secret
                ORDER BY created_by, created, expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// only master keys"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// decide to select master-keys only"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="false"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="false"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE created_by = ${registered_by}
                AND client_ident=${client_ident}
                ORDER BY created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// all"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="true"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="true"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE created_by = ${registered_by}
                AND client_ident=${client_ident}
                AND client_key=secret
                ORDER BY created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// only master keys"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// decide to select master-keys only"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given registered_by, client_ident"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_ident}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:CommentAssertion>
                                    <L7p:Comment stringValue="=== OAuth Manager - list keys for client"/>
                                </L7p:CommentAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="false"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="false"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock
                WHERE ock.client_ident = ${client_ident}
                ORDER BY ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// all"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="true"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="true"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock
                WHERE ock.client_ident = ${client_ident}
                AND ock.client_key=ock.secret
                ORDER BY ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// only master keys"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// decide to select master-keys only"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="false"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="false"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE client_ident = ${client_ident}
                ORDER BY created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// all"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${master}"/>
                                    <L7p:Expression2 stringValue="true"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">

                                    <L7p:CaseSensitive booleanValue="false"/>

                                    <L7p:RightValue stringValue="true"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>

                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>

                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>

                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>

                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                WHERE client_ident = ${client_ident}
                AND client_key=secret
                ORDER BY created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// only master keys"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// decide to select master-keys only"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:OneOrMore>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given client_ident"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_ident}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_key}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_key}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${environment}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:CommentAssertion>
                                    <L7p:Comment stringValue="=== Clientstore API - getKey with no parameters"/>
                                </L7p:CommentAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT ock.client_key, ock.secret,
                ock.scope, ock.callback, ock.environment, ock.expiration, ock.status, ock.client_ident, ock.created,
                ock.created_by, ock.client_name, ock.custom, ock.serviceIds, ock.accountPlanMappingIds
                FROM oauth_client_key ock
                ORDER BY ock.client_name, ock.created_by, ock.created, ock.expiration ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_key, secret, scope, callback, environment, expiration, status, client_ident, created, created_by, client_name, custom, serviceIds, accountPlanMappingIds
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client_key.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client_key
                ORDER BY client_name, created_by, created, expiration ASC ) oauth_client_key
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:AuditDetailAssertion>
                                    <L7p:Detail stringValue="Non-valid parameter list for this operation"/>
                                </L7p:AuditDetailAssertion>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="MTAz"/>
                                    <L7p:VariableToSet stringValue="error.code"/>
                                </L7p:SetVariable>
                                <L7p:FalseAssertion/>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="error"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <L7p:assertionComment>
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="create the jdbc query"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHtxdWVyeS54bWxSZXN1bHR9"/>
                            <L7p:ContentType stringValue="text/xml;charset=UTF-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:VariableToSet stringValue="values"/>
                        </L7p:SetVariable>
                        <L7p:XslTransformation>
                            <L7p:AssertionComment assertionComment="included">
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Generate xml with one root and one field for each token"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:AssertionComment>
                            <L7p:Direction intValue="-1"/>
                            <L7p:OtherTargetMessageVariable stringValue="values"/>
                            <L7p:ResourceInfo staticResourceInfo="included">
                                <L7p:Document stringValueReference="inline"><![CDATA[<xsl:stylesheet version="1.0" xmlns="http://ns.l7tech.com/2012/11/otk-clientstore" xmlns:L7j="http://ns.l7tech.com/2012/08/jdbc-query-result" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output cdata-section-elements="client_ident client_key secret scope callback environment status created_by created expiration client_key_custom serviceids accountplanmappingids" encoding="UTF-8" indent="yes" method="xml"/>
                <xsl:param name="offset"/>
                <xsl:template match="L7j:jdbcQueryResult">
                <xsl:element name="values">
                <xsl:attribute name="offset">
                <xsl:value-of select="string(count(//L7j:row) +string($offset))"/>
                </xsl:attribute>
                <xsl:for-each select="L7j:row">
                <xsl:element name="value">
                <xsl:attribute name="index">
                <xsl:value-of select="position()"/>
                </xsl:attribute>
                <xsl:element name="client_ident">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='client_ident'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='client_ident']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="client_name">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='client_name'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='client_name']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="client_key">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='client_key'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='client_key']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="secret">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='secret'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='secret']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="scope">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='scope'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='scope']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="callback">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='callback'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='callback']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="environment">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='environment'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='environment']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="expiration">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='expiration'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='expiration']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="status">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='status'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='status']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="created">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='created'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='created']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="created_by">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='created_by'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='created_by']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="client_key_custom">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='custom'], 'NULL', 'null')='null'">
                <xsl:text>{}</xsl:text>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='custom']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="serviceids">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='serviceids'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='serviceids']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="accountplanmappingids">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='accountplanmappingids'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='accountplanmappingids']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                </xsl:element>
                </xsl:for-each>
                </xsl:element>
                </xsl:template>
                </xsl:stylesheet>]]></L7p:Document>
                            </L7p:ResourceInfo>
                            <L7p:Target target="OTHER"/>
                            <L7p:TransformName stringValue=""/>
                            <L7p:XsltVersion stringValue="1.0"/>
                        </L7p:XslTransformation>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Managing"/>
                                </L7p:entry>
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Handle 'getKey'"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:Expression1 stringValue="${operation}"/>
                            <L7p:Operator operatorNull="null"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item regex="included">
                                    <L7p:Pattern stringValue="get"/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <wsp:OneOrMore wsp:Usage="Required">
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT  client_ident, name, type,
                description, organization, registered_by, created, custom
                FROM oauth_client
                WHERE name like ${name}
                AND organization like ${org}
                ORDER BY name, organization, registered_by, created ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_ident, name, type,description, organization, registered_by, created, custom
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client
                WHERE name like ${name}
                AND organization like ${org}
                ORDER BY name, organization, registered_by, created ASC ) oauth_client
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given name, organization"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT  client_ident, name, type,
                description, organization, registered_by, created, custom
                FROM oauth_client
                WHERE registered_by like ${registered_by}
                AND organization like ${org}
                ORDER BY organization, registered_by, name, created ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_ident, name, type,description, organization, registered_by, created, custom
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client.*, ROWNUM rnum
                FROM (	SELECT * FROM oauth_client
                WHERE registered_by like ${registered_by}
                AND organization like ${org}
                ORDER BY organization, registered_by, name, created ASC ) oauth_client
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given registered_by, organization"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT  client_ident, name, type,
                description, organization, registered_by, created, custom
                FROM oauth_client
                WHERE name like ${name}
                ORDER BY name, organization, registered_by, created ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_ident, name, type,description, organization, registered_by, created, custom
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client.*, ROWNUM rnum
                FROM (	SELECT * FROM oauth_client
                WHERE name like ${name}
                ORDER BY name, organization, registered_by, created ASC) oauth_client
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given name"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT  client_ident, name, type,
                description, organization, registered_by, created, custom
                FROM oauth_client
                WHERE organization like ${org}
                ORDER BY organization, registered_by, name, created ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_ident, name, type,description, organization, registered_by, created, custom
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client
                WHERE organization like ${org}
                ORDER BY organization, registered_by, name, created ASC) oauth_client
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given organization"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT  client_ident, name, type,
                description, organization, registered_by, created, custom
                FROM oauth_client
                WHERE registered_by like ${registered_by}
                ORDER BY registered_by, organization, name, created ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_ident, name, type,description, organization, registered_by, created, custom
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client.*, ROWNUM rnum
                FROM ( 	SELECT * FROM oauth_client
                WHERE registered_by like ${registered_by}
                ORDER BY registered_by, organization, name, created ASC) oauth_client
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given registered_by"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_key}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:JdbcQuery>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[select oc.client_ident, oc.name,
                oc.type, oc.description, oc.organization, oc.registered_by, oc.created, oc.custom
                from oauth_client oc, oauth_client_key ock
                where ock.client_key = ${client_key}
                and ock.client_ident = oc.client_ident]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                </L7p:JdbcQuery>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given client_key"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:Expression1 stringValue="${client_ident}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Negate booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:Negated booleanValue="true"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:JdbcQuery>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[select client_ident, name, type,
                description, organization, registered_by, created, custom
                from oauth_client
                where client_ident = ${client_ident}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                </L7p:JdbcQuery>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values of given client_ident"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${client_ident}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${client_key}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${registered_by}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${org}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${name}"/>
                                    <L7p:Expression2 stringValue=""/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Operator operator="EMPTY"/>
                                    <L7p:RightValue stringValue=""/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                </L7p:ComparisonAssertion>
                                <L7p:CommentAssertion>
                                    <L7p:Comment stringValue="=== OAuth Manager - initial client view"/>
                                </L7p:CommentAssertion>
                                <wsp:OneOrMore wsp:Usage="Required">
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="mysql"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="mysql"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT  client_ident, name, type,
                description, organization, registered_by, created, custom
                FROM oauth_client
                ORDER BY name, organization, registered_by, created ASC LIMIT 100 OFFSET ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="MySQL"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <wsp:All wsp:Usage="Required">
                                    <L7p:ComparisonAssertion>
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:Expression1 stringValue="${dbsystem}"/>
                                    <L7p:Expression2 stringValue="oracle"/>
                                    <L7p:Predicates predicates="included">
                                    <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="oracle"/>
                                    </L7p:item>
                                    </L7p:Predicates>
                                    </L7p:ComparisonAssertion>
                                    <L7p:JdbcQuery>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AssertionFailureEnabled booleanValue="false"/>
                                    <L7p:ConnectionName stringValue="OAuth"/>

                                    <L7p:ConvertVariablesToStrings booleanValue="false"/>
                                    <L7p:GenerateXmlResult booleanValue="true"/>
                                    <L7p:MaxRecords intValue="1000"/>
                                    <L7p:SqlQuery stringValueReference="inline"><![CDATA[SELECT client_ident, name, type, description, organization, registered_by, created, custom
                FROM (
                SELECT /*+ FIRST_ROWS(100) */ oauth_client.*, ROWNUM rnum
                FROM (	SELECT * FROM oauth_client
                ORDER BY name, organization, registered_by, created ASC) oauth_client
                WHERE ROWNUM <= (100+${offset}) )
                WHERE rnum  > ${offset}]]></L7p:SqlQuery>
                                    <L7p:VariablePrefix stringValue="query"/>
                                    </L7p:JdbcQuery>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Oracle"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                    </wsp:All>
                                    <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Databasesystem"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:assertionComment>
                                </wsp:OneOrMore>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="all values"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <wsp:All wsp:Usage="Required">
                                <L7p:AuditDetailAssertion>
                                    <L7p:Detail stringValue="Non-valid parameter list for this operation"/>
                                </L7p:AuditDetailAssertion>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="MTAz"/>
                                    <L7p:VariableToSet stringValue="error.code"/>
                                </L7p:SetVariable>
                                <L7p:FalseAssertion/>
                                <L7p:assertionComment>
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="error"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                </L7p:assertionComment>
                            </wsp:All>
                            <L7p:assertionComment>
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="create the jdbc query"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:assertionComment>
                        </wsp:OneOrMore>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHtxdWVyeS54bWxSZXN1bHR9"/>
                            <L7p:ContentType stringValue="text/xml;charset=UTF-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:VariableToSet stringValue="values"/>
                        </L7p:SetVariable>
                        <L7p:XslTransformation>
                            <L7p:AssertionComment assertionComment="included">
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Generate xml with one root and one field for each token"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:AssertionComment>
                            <L7p:Direction intValue="-1"/>
                            <L7p:OtherTargetMessageVariable stringValue="values"/>
                            <L7p:ResourceInfo staticResourceInfo="included">
                                <L7p:Document stringValueReference="inline"><![CDATA[<xsl:stylesheet version="1.0" xmlns="http://ns.l7tech.com/2012/11/otk-clientstore" xmlns:L7j="http://ns.l7tech.com/2012/08/jdbc-query-result" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
                <xsl:output cdata-section-elements="client_ident name type description organization registered_by created client_custom" encoding="UTF-8" indent="yes" method="xml"/>
                <xsl:param name="offset"/>
                <xsl:template match="L7j:jdbcQueryResult">
                <xsl:element name="values">
                <xsl:attribute name="offset">
                <xsl:value-of select="string(count(//L7j:row) +string($offset))"/>
                </xsl:attribute>
                <xsl:for-each select="L7j:row">
                <xsl:element name="value">
                <xsl:attribute name="index">
                <xsl:value-of select="position()"/>
                </xsl:attribute>
                <xsl:element name="client_ident">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='client_ident'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='client_ident']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="name">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='name'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='name']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="type">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='type'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='type']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="description">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='description'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='description']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="organization">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='organization'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='organization']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="registered_by">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='registered_by'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='registered_by']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="created">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='created'], 'NULL', 'null')='null'">
                <xsl:text/>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='created']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                <xsl:element name="client_custom">
                <xsl:choose>
                <xsl:when test="translate(L7j:col[@name='custom'], 'NULL', 'null')='null'">
                <xsl:text>{}</xsl:text>
                </xsl:when>
                <xsl:otherwise>
                <xsl:value-of select="L7j:col[@name='custom']"/>
                </xsl:otherwise>
                </xsl:choose>
                </xsl:element>
                </xsl:element>
                </xsl:for-each>
                </xsl:element>
                </xsl:template>
                </xsl:stylesheet>]]></L7p:Document>
                            </L7p:ResourceInfo>
                            <L7p:Target target="OTHER"/>
                            <L7p:TransformName stringValue=""/>
                            <L7p:XsltVersion stringValue="1.0"/>
                        </L7p:XslTransformation>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="Managing"/>
                                </L7p:entry>
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Handle 'get'"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:Expression1 stringValue="${operation}"/>
                            <L7p:Operator operatorNull="null"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item regex="included">
                                    <L7p:Pattern stringValue="getAll"/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:AuditDetailAssertion>
                            <L7p:Detail stringValue="This operation: '${operation}' is only valid with parameter client_key"/>
                        </L7p:AuditDetailAssertion>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="MTAz"/>
                            <L7p:VariableToSet stringValue="error.code"/>
                        </L7p:SetVariable>
                        <L7p:FalseAssertion/>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="LEFT.COMMENT"/>
                                    <L7p:value stringValue="error"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="LEFT.COMMENT"/>
                                <L7p:value stringValue="Client data"/>
                            </L7p:entry>
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="Get client data for one specific or many clients"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:assertionComment>
                </wsp:OneOrMore>
                <wsp:OneOrMore wsp:Usage="Required">
                    <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                            <L7p:CaseSensitive booleanValue="false"/>
                            <L7p:Expression1 stringValue="${format}"/>
                            <L7p:Expression2 stringValue="json"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item binary="included">
                                    <L7p:CaseSensitive booleanValue="false"/>
                                    <L7p:RightValue stringValue="json"/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:JsonTransformation>
                            <L7p:DestinationMessageTarget MessageTarget="included">
                                <L7p:OtherTargetMessageVariable stringValue="values"/>
                                <L7p:Target target="OTHER"/>
                                <L7p:TargetModifiedByGateway booleanValue="true"/>
                            </L7p:DestinationMessageTarget>
                            <L7p:OtherTargetMessageVariable stringValue="values"/>
                            <L7p:PrettyPrint booleanValue="true"/>
                            <L7p:RootTagString stringValue=""/>
                            <L7p:Target target="OTHER"/>
                        </L7p:JsonTransformation>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHt2YWx1ZXMubWFpbnBhcnR9"/>
                            <L7p:VariableToSet stringValue="values.mainpart"/>
                        </L7p:SetVariable>
                        <L7p:Regex>
                            <L7p:AutoTarget booleanValue="false"/>
                            <L7p:OtherTargetMessageVariable stringValue="values.mainpart"/>
                            <L7p:Regex stringValue="&quot;xmlns&quot;:[\s]?&quot;http://ns.l7tech.com/2012/11/otk-clientstore&quot;,\n"/>
                            <L7p:RegexName stringValue="Remove Namespace"/>
                            <L7p:Replace booleanValue="true"/>
                            <L7p:Replacement stringValue=""/>
                            <L7p:Target target="OTHER"/>
                        </L7p:Regex>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04"/>
                            <L7p:VariableToSet stringValue="content-type"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHt2YWx1ZXMubWFpbnBhcnR9"/>
                            <L7p:ContentType stringValue="application/json;charset=UTF-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:VariableToSet stringValue="resp"/>
                        </L7p:SetVariable>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// to JSON"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <wsp:All wsp:Usage="Required">
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="dGV4dC94bWw7Y2hhcnNldD1VVEYtOA=="/>
                            <L7p:VariableToSet stringValue="content-type"/>
                        </L7p:SetVariable>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHt2YWx1ZXMubWFpbnBhcnR9"/>
                            <L7p:ContentType stringValue="text/xml;charset=UTF-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:VariableToSet stringValue="resp"/>
                        </L7p:SetVariable>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// XML"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// transform to json if requested"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:assertionComment>
                </wsp:OneOrMore>
                <L7p:assertionComment>
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// Default: OTK"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:assertionComment>
            </wsp:All>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="// Choose a branch. Default: OTK"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:OneOrMore>
    </wsp:All>
</wsp:Policy>