<?xml version="1.0" encoding="UTF-8"?>
<wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy">
    <wsp:All wsp:Usage="Required">
        <wsp:All wsp:Usage="Required">
            <L7p:SslAssertion>
                <L7p:Enabled booleanValue="false"/>
            </L7p:SslAssertion>
            <L7p:HttpBasic/>
            <L7p:Authentication>
                <L7p:IdentityProviderOid goidValue="0000000000000000fffffffffffffffe"/>
            </L7p:Authentication>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="// Authenticate an admin user"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:All>
        <wsp:All wsp:Usage="Required">
            <L7p:SetVariable>
                <L7p:Base64Expression stringValue="UG9saWN5JTIwRnJhZ21lbnRzL1Jlc291cmNlcw=="/>
                <L7p:VariableToSet stringValue="sourceFolder"/>
            </L7p:SetVariable>
            <L7p:SetVariable>
                <L7p:Base64Expression stringValue="TEFDJTIwUHJvamVjdHM="/>
                <L7p:VariableToSet stringValue="projectFolder"/>
            </L7p:SetVariable>
            <L7p:SetVariable>
                <L7p:Base64Expression stringValue="dHJ1ZQ=="/>
                <L7p:VariableToSet stringValue="policyEnabled"/>
            </L7p:SetVariable>
            <L7p:SetVariable>
                <L7p:Base64Expression stringValue="JHtnYXRld2F5LmNsdXN0ZXIuaG9zdG5hbWV9"/>
                <L7p:VariableToSet stringValue="project.forwarded.hostname"/>
            </L7p:SetVariable>
            <L7p:EncodeDecode>
                <L7p:SourceVariableName stringValue="project.forwarded.hostname"/>
                <L7p:TargetDataType variableDataType="string"/>
                <L7p:TargetVariableName stringValue="project.forwarded.hostnameB64"/>
                <L7p:TransformType transformType="BASE64_ENCODE"/>
            </L7p:EncodeDecode>
            <L7p:SetVariable>
                <L7p:Base64Expression stringValue="aHR0cHM="/>
                <L7p:VariableToSet stringValue="project.forwarded.httpScheme"/>
            </L7p:SetVariable>
            <L7p:EncodeDecode>
                <L7p:SourceVariableName stringValue="project.forwarded.httpScheme"/>
                <L7p:TargetDataType variableDataType="string"/>
                <L7p:TargetVariableName stringValue="project.forwarded.httpSchemeB64"/>
                <L7p:TransformType transformType="BASE64_ENCODE"/>
            </L7p:EncodeDecode>
            <L7p:SetVariable>
                <L7p:Base64Expression stringValue="JHtwcm9qZWN0LmZvcndhcmRlZC5odHRwU2NoZW1lQjY0fQ=="/>
                <L7p:VariableToSet stringValue="project.endpoint.httpSchemeB64"/>
            </L7p:SetVariable>
            <L7p:SetVariable>
                <L7p:Base64Expression stringValue="ODA4MQ=="/>
                <L7p:VariableToSet stringValue="project.endpoint.port"/>
            </L7p:SetVariable>
            <L7p:EncodeDecode>
                <L7p:SourceVariableName stringValue="project.endpoint.port"/>
                <L7p:TargetDataType variableDataType="string"/>
                <L7p:TargetVariableName stringValue="project.endpoint.portB64"/>
                <L7p:TransformType transformType="BASE64_ENCODE"/>
            </L7p:EncodeDecode>
            <L7p:SetVariable>
                <L7p:Base64Expression stringValue="ODQ0Mw=="/>
                <L7p:VariableToSet stringValue="project.forwarded.port"/>
            </L7p:SetVariable>
            <L7p:EncodeDecode>
                <L7p:SourceVariableName stringValue="project.forwarded.port"/>
                <L7p:TargetDataType variableDataType="string"/>
                <L7p:TargetVariableName stringValue="project.forwarded.portB64"/>
                <L7p:TransformType transformType="BASE64_ENCODE"/>
            </L7p:EncodeDecode>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="// Configuration"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:All>
        <wsp:All wsp:Usage="Required">
            <L7p:Encapsulated>
                <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// GET 1.0/folders?name=${projectFolder}"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:AssertionComment>
                <L7p:EncapsulatedAssertionConfigGuid stringValue="7fcb6572-f602-4f56-b1fc-e897e23082a8"/>
                <L7p:EncapsulatedAssertionConfigName stringValue="LAC: Call RESTMan"/>
                <L7p:Parameters mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="restGatewayMan.action"/>
                        <L7p:value stringValue="GET"/>
                    </L7p:entry>
                    <L7p:entry>
                        <L7p:key stringValue="restGatewayMan.uri"/>
                        <L7p:value stringValue="1.0/folders?name=${projectFolder}"/>
                    </L7p:entry>
                    <L7p:entry>
                        <L7p:key stringValue="restman.request"/>
                        <L7p:value stringValue=""/>
                    </L7p:entry>
                </L7p:Parameters>
            </L7p:Encapsulated>
            <L7p:ResponseXpathAssertion>
                <L7p:VariablePrefix stringValue="project.folderId"/>
                <L7p:XpathExpression xpathExpressionValue="included">
                    <L7p:Expression stringValue="/l7:List/l7:Item/l7:Id/text()"/>
                    <L7p:Namespaces mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="s"/>
                            <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                        </L7p:entry>
                        <L7p:entry>
                            <L7p:key stringValue="l7"/>
                            <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                        </L7p:entry>
                    </L7p:Namespaces>
                    <L7p:XpathVersion xpathVersion="XPATH_2_0"/>
                </L7p:XpathExpression>
            </L7p:ResponseXpathAssertion>
            <L7p:AuditDetailAssertion>
                <L7p:Detail stringValue="projectFolderId.result=${project.folderId.result}"/>
                <L7p:Level stringValue="FINE"/>
            </L7p:AuditDetailAssertion>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="// Retrieve project folder id directly from RESTMAN"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:All>
        <wsp:All wsp:Usage="Required">
            <L7p:Encapsulated>
                <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// GET 1.0/folders?name=${sourceFolder}"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:AssertionComment>
                <L7p:EncapsulatedAssertionConfigGuid stringValue="7fcb6572-f602-4f56-b1fc-e897e23082a8"/>
                <L7p:EncapsulatedAssertionConfigName stringValue="LAC: Call RESTMan"/>
                <L7p:Parameters mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="restGatewayMan.action"/>
                        <L7p:value stringValue="GET"/>
                    </L7p:entry>
                    <L7p:entry>
                        <L7p:key stringValue="restGatewayMan.uri"/>
                        <L7p:value stringValue="1.0/folders?name=${sourceFolder}"/>
                    </L7p:entry>
                    <L7p:entry>
                        <L7p:key stringValue="restman.request"/>
                        <L7p:value stringValue=""/>
                    </L7p:entry>
                </L7p:Parameters>
            </L7p:Encapsulated>
            <L7p:ResponseXpathAssertion>
                <L7p:VariablePrefix stringValue="source.folderId"/>
                <L7p:XpathExpression xpathExpressionValue="included">
                    <L7p:Expression stringValue="/l7:List/l7:Item/l7:Id/text()"/>
                    <L7p:Namespaces mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="s"/>
                            <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                        </L7p:entry>
                        <L7p:entry>
                            <L7p:key stringValue="l7"/>
                            <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                        </L7p:entry>
                    </L7p:Namespaces>
                    <L7p:XpathVersion xpathVersion="XPATH_2_0"/>
                </L7p:XpathExpression>
            </L7p:ResponseXpathAssertion>
            <L7p:AuditDetailAssertion>
                <L7p:Detail stringValue="folderId.result=${source.folderId.result}"/>
                <L7p:Level stringValue="FINE"/>
            </L7p:AuditDetailAssertion>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="// Retrieve source folder id directly from RESTMAN"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:All>
        <wsp:All wsp:Usage="Required">
            <L7p:Encapsulated>
                <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// GET 1.0/policies?parentFolder.id=${source.folderId.result}&amp;sort=name"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:AssertionComment>
                <L7p:EncapsulatedAssertionConfigGuid stringValue="7fcb6572-f602-4f56-b1fc-e897e23082a8"/>
                <L7p:EncapsulatedAssertionConfigName stringValue="LAC: Call RESTMan"/>
                <L7p:Parameters mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="restGatewayMan.action"/>
                        <L7p:value stringValue="GET"/>
                    </L7p:entry>
                    <L7p:entry>
                        <L7p:key stringValue="restGatewayMan.uri"/>
                        <L7p:value stringValue="1.0/policies?parentFolder.id=${source.folderId.result}&amp;sort=name"/>
                    </L7p:entry>
                    <L7p:entry>
                        <L7p:key stringValue="restman.request"/>
                        <L7p:value stringValue=""/>
                    </L7p:entry>
                </L7p:Parameters>
            </L7p:Encapsulated>
            <L7p:ResponseXpathAssertion>
                <L7p:VariablePrefix stringValue="policyObjects"/>
                <L7p:XpathExpression xpathExpressionValue="included">
                    <L7p:Expression stringValue="/l7:List//l7:Item[l7:Type='POLICY']"/>
                    <L7p:Namespaces mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="l7"/>
                            <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                        </L7p:entry>
                    </L7p:Namespaces>
                    <L7p:XpathVersion xpathVersion="XPATH_2_0"/>
                </L7p:XpathExpression>
            </L7p:ResponseXpathAssertion>
            <L7p:SetVariable>
                <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// Initialise the reference policy XML"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:AssertionComment>
                <L7p:Base64Expression stringValue="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHdzcDpQb2xpY3kgeG1sbnM6TDdwPSJodHRwOi8vd3d3LmxheWVyN3RlY2guY29tL3dzL3BvbGljeSIgeG1sbnM6d3NwPSJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDAyLzEyL3BvbGljeSI+CiAgICA8d3NwOkFsbCB3c3A6VXNhZ2U9IlJlcXVpcmVkIj4="/>
                <L7p:LineBreak lineBreak="LF"/>
                <L7p:VariableToSet stringValue="referencePolicy"/>
            </L7p:SetVariable>
            <L7p:ForEachLoop L7p:Usage="Required"
                loopVariable="policyObjects.elements" variablePrefix="policyObject">
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtwb2xpY3lPYmplY3QuY3VycmVudH0="/>
                    <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
                    <L7p:DataType variableDataType="message"/>
                    <L7p:VariableToSet stringValue="policyObject.xml"/>
                </L7p:SetVariable>
                <L7p:Regex>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// Put namespace back in"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:AutoTarget booleanValue="false"/>
                    <L7p:OtherTargetMessageVariable stringValue="policyObject.xml"/>
                    <L7p:Regex stringValue="&lt;l7:Item>"/>
                    <L7p:Replace booleanValue="true"/>
                    <L7p:Replacement stringValue="&lt;l7:Item xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot;>"/>
                    <L7p:Target target="OTHER"/>
                </L7p:Regex>
                <L7p:AuditDetailAssertion>
                    <L7p:Detail stringValue="policyObject.xml: ${policyObject.xml.mainpart}"/>
                    <L7p:Level stringValue="WARNING"/>
                </L7p:AuditDetailAssertion>
                <wsp:OneOrMore wsp:Usage="Required">
                    <L7p:Regex>
                        <L7p:AutoTarget booleanValue="false"/>
                        <L7p:CaptureVar stringValue="policyType"/>
                        <L7p:IncludeEntireExpressionCapture booleanValue="false"/>
                        <L7p:OtherTargetMessageVariable stringValue="policyObject.xml"/>
                        <L7p:Regex stringValue="L7p:Comment stringValue=&quot;LAC-PolicyType=(inject|fragment)&quot;"/>
                        <L7p:Replacement stringValue=""/>
                        <L7p:Target target="OTHER"/>
                    </L7p:Regex>
                    <wsp:All wsp:Usage="Required">
                        <L7p:CustomizeErrorResponse>
                            <L7p:AssertionComment assertionComment="included">
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// 500 (application/json)"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:AssertionComment>
                            <L7p:Content stringValue="{  &quot;statusCode&quot;: &quot;500&quot;,  &quot;errorCode&quot;: &quot;000&quot;,  &quot;errorMessage&quot;: &quot;Error: Indeterminate policyType&quot;,  &quot;helpUrl&quot;: &quot;http://${gateway.apiCreator.hostname}/support/errors/error000&quot;}"/>
                            <L7p:ContentType stringValue="application/json; charset=UTF-8"/>
                            <L7p:ExtraHeaders nameValuePairArray="included"/>
                        </L7p:CustomizeErrorResponse>
                        <L7p:FalseAssertion/>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// Fail 500"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// Extract ${policyType} else fail 500"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:assertionComment>
                </wsp:OneOrMore>
                <wsp:OneOrMore wsp:Usage="Required">
                    <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                            <L7p:Expression1 stringValue="${policyType}"/>
                            <L7p:Expression2 stringValue="inject"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item binary="included">
                                    <L7p:RightValue stringValue="inject"/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:ResponseXpathAssertion>
                            <L7p:VariablePrefix stringValue="policy"/>
                            <L7p:XmlMsgSrc stringValue="policyObject.xml"/>
                            <L7p:XpathExpression xpathExpressionValue="included">
                                <L7p:Expression stringValue="/l7:Item/l7:Resource/l7:Policy/l7:Resources/l7:ResourceSet[@tag='policy']/l7:Resource[@type='policy']"/>
                                <L7p:Namespaces mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="s"/>
                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="l7"/>
                                    <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                    </L7p:entry>
                                </L7p:Namespaces>
                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                            </L7p:XpathExpression>
                        </L7p:ResponseXpathAssertion>
                        <wsp:OneOrMore wsp:Usage="Required">
                            <wsp:All wsp:Usage="Required">
                                <L7p:ResponseXpathAssertion>
                                    <L7p:VariablePrefix stringValue="policyName"/>
                                    <L7p:XmlMsgSrc stringValue="policyObject.xml"/>
                                    <L7p:XpathExpression xpathExpressionValue="included">
                                    <L7p:Expression stringValue="/l7:Item/l7:Name/text()='LAC-00-ProjectConfiguration'"/>
                                    <L7p:Namespaces mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="s"/>
                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="l7"/>
                                    <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                    </L7p:entry>
                                    </L7p:Namespaces>
                                    <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                                    </L7p:XpathExpression>
                                </L7p:ResponseXpathAssertion>
                                <L7p:AuditDetailAssertion>
                                    <L7p:Detail stringValue="Project Config Policy: ${policy.result}"/>
                                    <L7p:Level stringValue="WARNING"/>
                                </L7p:AuditDetailAssertion>
                                <L7p:EvaluateJsonPathExpression>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Only selects the first scheme, this will need to be enhanced to handle multiple schemes"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:Expression stringValue="$.schemes"/>
                                    <L7p:VariablePrefix stringValue="project.endpoint.schemes"/>
                                </L7p:EvaluateJsonPathExpression>
                                <L7p:EncodeDecode>
                                    <L7p:SourceVariableName stringValue="project.endpoint.schemes.result"/>
                                    <L7p:TargetDataType variableDataType="string"/>
                                    <L7p:TargetVariableName stringValue="project.endpoint.schemeB64"/>
                                    <L7p:TransformType transformType="BASE64_ENCODE"/>
                                </L7p:EncodeDecode>
                                <L7p:EvaluateJsonPathExpression>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="Only selects the first scheme, this will need to be enhanced to handle multiple schemes"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:Expression stringValue="$.host"/>
                                    <L7p:VariablePrefix stringValue="project.endpoint.hostPort"/>
                                </L7p:EvaluateJsonPathExpression>
                                <L7p:Regex>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// Capture ProjectName and Version"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AutoTarget booleanValue="false"/>
                                    <L7p:CaptureVar stringValue="hostPathSplit"/>
                                    <L7p:OtherTargetMessageVariable stringValue="project.endpoint.hostPort.result"/>
                                    <L7p:Regex stringValue="(.*):([0-9]+)$"/>
                                    <L7p:Replacement stringValue=""/>
                                    <L7p:Target target="OTHER"/>
                                </L7p:Regex>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="JHtob3N0UGF0aFNwbGl0WzFdfQ=="/>
                                    <L7p:VariableToSet stringValue="project.endpoint.hostname"/>
                                </L7p:SetVariable>
                                <L7p:EncodeDecode>
                                    <L7p:SourceVariableName stringValue="project.endpoint.hostname"/>
                                    <L7p:TargetDataType variableDataType="string"/>
                                    <L7p:TargetVariableName stringValue="project.endpoint.hostnameB64"/>
                                    <L7p:TransformType transformType="BASE64_ENCODE"/>
                                </L7p:EncodeDecode>
                                <L7p:EvaluateJsonPathExpression>
                                    <L7p:Expression stringValue="$.basePath"/>
                                    <L7p:VariablePrefix stringValue="basePath"/>
                                </L7p:EvaluateJsonPathExpression>
                                <L7p:Regex>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// Capture ProjectName and Version"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:AutoTarget booleanValue="false"/>
                                    <L7p:CaptureVar stringValue="pathSplit"/>
                                    <L7p:OtherTargetMessageVariable stringValue="basePath.result"/>
                                    <L7p:Regex stringValue="\/(.*)\/([^\/]*)\/(v[0-9]+)$"/>
                                    <L7p:Replacement stringValue=""/>
                                    <L7p:Target target="OTHER"/>
                                </L7p:Regex>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="JHtwYXRoU3BsaXRbM119"/>
                                    <L7p:VariableToSet stringValue="project.version"/>
                                </L7p:SetVariable>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="JHtwYXRoU3BsaXRbMV19"/>
                                    <L7p:VariableToSet stringValue="project.rootPath"/>
                                </L7p:SetVariable>
                                <L7p:EncodeDecode>
                                    <L7p:SourceVariableName stringValue="project.rootPath"/>
                                    <L7p:TargetDataType variableDataType="string"/>
                                    <L7p:TargetVariableName stringValue="project.rootPathB64"/>
                                    <L7p:TransformType transformType="BASE64_ENCODE"/>
                                </L7p:EncodeDecode>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="JHtwYXRoU3BsaXRbMl19"/>
                                    <L7p:VariableToSet stringValue="project.name"/>
                                </L7p:SetVariable>
                                <L7p:EncodeDecode>
                                    <L7p:SourceVariableName stringValue="project.name"/>
                                    <L7p:TargetDataType variableDataType="string"/>
                                    <L7p:TargetVariableName stringValue="project.nameB64"/>
                                    <L7p:TransformType transformType="BASE64_ENCODE"/>
                                </L7p:EncodeDecode>
                                <L7p:EncodeDecode>
                                    <L7p:SourceVariableName stringValue="project.version"/>
                                    <L7p:TargetDataType variableDataType="string"/>
                                    <L7p:TargetVariableName stringValue="project.versionB64"/>
                                    <L7p:TransformType transformType="BASE64_ENCODE"/>
                                </L7p:EncodeDecode>
                                <L7p:EvaluateJsonPathExpression>
                                    <L7p:AssertionComment assertionComment="included">
                                    <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// set ${title.result}"/>
                                    </L7p:entry>
                                    </L7p:Properties>
                                    </L7p:AssertionComment>
                                    <L7p:Expression stringValue="$.info.title"/>
                                    <L7p:VariablePrefix stringValue="title"/>
                                </L7p:EvaluateJsonPathExpression>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="JHt0aXRsZS5yZXN1bHR9"/>
                                    <L7p:VariableToSet stringValue="title"/>
                                </L7p:SetVariable>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="PEw3cDpTZXRWYXJpYWJsZT4NCgkJPEw3cDpBc3NlcnRpb25Db21tZW50IGFzc2VydGlvbkNvbW1lbnQ9ImluY2x1ZGVkIj4NCgkJCTxMN3A6UHJvcGVydGllcyBtYXBWYWx1ZT0iaW5jbHVkZWQiPg0KCQkJCTxMN3A6ZW50cnk+DQoJCQkJCTxMN3A6a2V5IHN0cmluZ1ZhbHVlPSJSSUdIVC5DT01NRU5UIi8+DQoJCQkJCTxMN3A6dmFsdWUgc3RyaW5nVmFsdWU9IlJlcXVpcmVzIENvbmZpZ3VyYXRpb24iLz4NCgkJCQk8L0w3cDplbnRyeT4NCgkJCTwvTDdwOlByb3BlcnRpZXM+DQoJCTwvTDdwOkFzc2VydGlvbkNvbW1lbnQ+DQoJCTxMN3A6QmFzZTY0RXhwcmVzc2lvbiBzdHJpbmdWYWx1ZT0iJHtwcm9qZWN0LmZvcndhcmRlZC5odHRwU2NoZW1lQjY0fSIvPg0KCQk8TDdwOlZhcmlhYmxlVG9TZXQgc3RyaW5nVmFsdWU9InByb2plY3QuZm9yd2FyZGVkLmh0dHBTY2hlbWUiLz4NCgk8L0w3cDpTZXRWYXJpYWJsZT4NCgk8TDdwOlNldFZhcmlhYmxlPg0KCQk8TDdwOkFzc2VydGlvbkNvbW1lbnQgYXNzZXJ0aW9uQ29tbWVudD0iaW5jbHVkZWQiPg0KCQkJPEw3cDpQcm9wZXJ0aWVzIG1hcFZhbHVlPSJpbmNsdWRlZCI+DQoJCQkJPEw3cDplbnRyeT4NCgkJCQkJPEw3cDprZXkgc3RyaW5nVmFsdWU9IlJJR0hULkNPTU1FTlQiLz4NCgkJCQkJPEw3cDp2YWx1ZSBzdHJpbmdWYWx1ZT0iUmVxdWlyZXMgQ29uZmlndXJhdGlvbiIvPg0KCQkJCTwvTDdwOmVudHJ5Pg0KCQkJPC9MN3A6UHJvcGVydGllcz4NCgkJPC9MN3A6QXNzZXJ0aW9uQ29tbWVudD4NCgkJPEw3cDpCYXNlNjRFeHByZXNzaW9uIHN0cmluZ1ZhbHVlPSIke3Byb2plY3QuZm9yd2FyZGVkLnBvcnRCNjR9Ii8+DQoJCTxMN3A6VmFyaWFibGVUb1NldCBzdHJpbmdWYWx1ZT0icHJvamVjdC5mb3J3YXJkZWQucG9ydCIvPg0KCTwvTDdwOlNldFZhcmlhYmxlPg0KCTxMN3A6U2V0VmFyaWFibGU+DQoJCTxMN3A6QXNzZXJ0aW9uQ29tbWVudCBhc3NlcnRpb25Db21tZW50PSJpbmNsdWRlZCI+DQoJCQk8TDdwOlByb3BlcnRpZXMgbWFwVmFsdWU9ImluY2x1ZGVkIj4NCgkJCQk8TDdwOmVudHJ5Pg0KCQkJCQk8TDdwOmtleSBzdHJpbmdWYWx1ZT0iUklHSFQuQ09NTUVOVCIvPg0KCQkJCQk8TDdwOnZhbHVlIHN0cmluZ1ZhbHVlPSJSZXF1aXJlcyBDb25maWd1cmF0aW9uIi8+DQoJCQkJPC9MN3A6ZW50cnk+DQoJCQk8L0w3cDpQcm9wZXJ0aWVzPg0KCQk8L0w3cDpBc3NlcnRpb25Db21tZW50Pg0KCQk8TDdwOkJhc2U2NEV4cHJlc3Npb24gc3RyaW5nVmFsdWU9IiR7cHJvamVjdC5mb3J3YXJkZWQuaG9zdG5hbWVCNjR9Ii8+DQoJCTxMN3A6VmFyaWFibGVUb1NldCBzdHJpbmdWYWx1ZT0icHJvamVjdC5mb3J3YXJkZWQuaG9zdG5hbWUiLz4NCgk8L0w3cDpTZXRWYXJpYWJsZT4NCgk8TDdwOlNldFZhcmlhYmxlPg0KCQk8TDdwOkFzc2VydGlvbkNvbW1lbnQgYXNzZXJ0aW9uQ29tbWVudD0iaW5jbHVkZWQiPg0KCQkJPEw3cDpQcm9wZXJ0aWVzIG1hcFZhbHVlPSJpbmNsdWRlZCI+DQoJCQkJPEw3cDplbnRyeT4NCgkJCQkJPEw3cDprZXkgc3RyaW5nVmFsdWU9IlJJR0hULkNPTU1FTlQiLz4NCgkJCQkJPEw3cDp2YWx1ZSBzdHJpbmdWYWx1ZT0iUmVxdWlyZXMgQ29uZmlndXJhdGlvbiIvPg0KCQkJCTwvTDdwOmVudHJ5Pg0KCQkJPC9MN3A6UHJvcGVydGllcz4NCgkJPC9MN3A6QXNzZXJ0aW9uQ29tbWVudD4NCgkJPEw3cDpCYXNlNjRFeHByZXNzaW9uIHN0cmluZ1ZhbHVlPSIke3Byb2plY3QubmFtZUI2NH0iLz4NCgkJPEw3cDpWYXJpYWJsZVRvU2V0IHN0cmluZ1ZhbHVlPSJwcm9qZWN0Lm5hbWUiLz4NCgk8L0w3cDpTZXRWYXJpYWJsZT4NCgk8TDdwOlNldFZhcmlhYmxlPg0KCQk8TDdwOkFzc2VydGlvbkNvbW1lbnQgYXNzZXJ0aW9uQ29tbWVudD0iaW5jbHVkZWQiPg0KCQkJPEw3cDpQcm9wZXJ0aWVzIG1hcFZhbHVlPSJpbmNsdWRlZCI+DQoJCQkJPEw3cDplbnRyeT4NCgkJCQkJPEw3cDprZXkgc3RyaW5nVmFsdWU9IlJJR0hULkNPTU1FTlQiLz4NCgkJCQkJPEw3cDp2YWx1ZSBzdHJpbmdWYWx1ZT0iUmVxdWlyZXMgQ29uZmlndXJhdGlvbiIvPg0KCQkJCTwvTDdwOmVudHJ5Pg0KCQkJPC9MN3A6UHJvcGVydGllcz4NCgkJPC9MN3A6QXNzZXJ0aW9uQ29tbWVudD4NCgkJPEw3cDpCYXNlNjRFeHByZXNzaW9uIHN0cmluZ1ZhbHVlPSIke3Byb2plY3QudmVyc2lvbkI2NH0iLz4NCgkJPEw3cDpWYXJpYWJsZVRvU2V0IHN0cmluZ1ZhbHVlPSJwcm9qZWN0LnZlcnNpb24iLz4NCgk8L0w3cDpTZXRWYXJpYWJsZT4NCgk8TDdwOlNldFZhcmlhYmxlPg0KCQk8TDdwOkFzc2VydGlvbkNvbW1lbnQgYXNzZXJ0aW9uQ29tbWVudD0iaW5jbHVkZWQiPg0KCQkJPEw3cDpQcm9wZXJ0aWVzIG1hcFZhbHVlPSJpbmNsdWRlZCI+DQoJCQkJPEw3cDplbnRyeT4NCgkJCQkJPEw3cDprZXkgc3RyaW5nVmFsdWU9IlJJR0hULkNPTU1FTlQiLz4NCgkJCQkJPEw3cDp2YWx1ZSBzdHJpbmdWYWx1ZT0iUmVxdWlyZXMgQ29uZmlndXJhdGlvbiIvPg0KCQkJCTwvTDdwOmVudHJ5Pg0KCQkJPC9MN3A6UHJvcGVydGllcz4NCgkJPC9MN3A6QXNzZXJ0aW9uQ29tbWVudD4NCgkJPEw3cDpCYXNlNjRFeHByZXNzaW9uIHN0cmluZ1ZhbHVlPSIke3Byb2plY3QuZW5kcG9pbnQuaG9zdG5hbWVCNjR9Ii8+DQoJCTxMN3A6VmFyaWFibGVUb1NldCBzdHJpbmdWYWx1ZT0icHJvamVjdC5lbmRwb2ludC5ob3N0bmFtZSIvPg0KCTwvTDdwOlNldFZhcmlhYmxlPg0KCTxMN3A6U2V0VmFyaWFibGU+DQoJCTxMN3A6QXNzZXJ0aW9uQ29tbWVudCBhc3NlcnRpb25Db21tZW50PSJpbmNsdWRlZCI+DQoJCQk8TDdwOlByb3BlcnRpZXMgbWFwVmFsdWU9ImluY2x1ZGVkIj4NCgkJCQk8TDdwOmVudHJ5Pg0KCQkJCQk8TDdwOmtleSBzdHJpbmdWYWx1ZT0iUklHSFQuQ09NTUVOVCIvPg0KCQkJCQk8TDdwOnZhbHVlIHN0cmluZ1ZhbHVlPSJSZXF1aXJlcyBDb25maWd1cmF0aW9uIi8+DQoJCQkJPC9MN3A6ZW50cnk+DQoJCQk8L0w3cDpQcm9wZXJ0aWVzPg0KCQk8L0w3cDpBc3NlcnRpb25Db21tZW50Pg0KCQk8TDdwOkJhc2U2NEV4cHJlc3Npb24gc3RyaW5nVmFsdWU9IiR7cHJvamVjdC5lbmRwb2ludC5wb3J0QjY0fSIvPg0KCQk8TDdwOlZhcmlhYmxlVG9TZXQgc3RyaW5nVmFsdWU9InByb2plY3QuZW5kcG9pbnQucG9ydCIvPg0KCTwvTDdwOlNldFZhcmlhYmxlPg0KCTxMN3A6U2V0VmFyaWFibGU+DQoJCTxMN3A6QXNzZXJ0aW9uQ29tbWVudCBhc3NlcnRpb25Db21tZW50PSJpbmNsdWRlZCI+DQoJCQk8TDdwOlByb3BlcnRpZXMgbWFwVmFsdWU9ImluY2x1ZGVkIj4NCgkJCQk8TDdwOmVudHJ5Pg0KCQkJCQk8TDdwOmtleSBzdHJpbmdWYWx1ZT0iUklHSFQuQ09NTUVOVCIvPg0KCQkJCQk8TDdwOnZhbHVlIHN0cmluZ1ZhbHVlPSJSZXF1aXJlcyBDb25maWd1cmF0aW9uIi8+DQoJCQkJPC9MN3A6ZW50cnk+DQoJCQk8L0w3cDpQcm9wZXJ0aWVzPg0KCQk8L0w3cDpBc3NlcnRpb25Db21tZW50Pg0KCQk8TDdwOkJhc2U2NEV4cHJlc3Npb24gc3RyaW5nVmFsdWU9IiR7cHJvamVjdC5lbmRwb2ludC5odHRwU2NoZW1lQjY0fSIvPg0KCQk8TDdwOlZhcmlhYmxlVG9TZXQgc3RyaW5nVmFsdWU9InByb2plY3QuZW5kcG9pbnQuaHR0cFNjaGVtZSIvPg0KCTwvTDdwOlNldFZhcmlhYmxlPg0KCTxMN3A6U2V0VmFyaWFibGU+DQoJCTxMN3A6QXNzZXJ0aW9uQ29tbWVudCBhc3NlcnRpb25Db21tZW50PSJpbmNsdWRlZCI+DQoJCQk8TDdwOlByb3BlcnRpZXMgbWFwVmFsdWU9ImluY2x1ZGVkIj4NCgkJCQk8TDdwOmVudHJ5Pg0KCQkJCQk8TDdwOmtleSBzdHJpbmdWYWx1ZT0iUklHSFQuQ09NTUVOVCIvPg0KCQkJCQk8TDdwOnZhbHVlIHN0cmluZ1ZhbHVlPSJSZXF1aXJlcyBDb25maWd1cmF0aW9uIi8+DQoJCQkJPC9MN3A6ZW50cnk+DQoJCQk8L0w3cDpQcm9wZXJ0aWVzPg0KCQk8L0w3cDpBc3NlcnRpb25Db21tZW50Pg0KCQk8TDdwOkJhc2U2NEV4cHJlc3Npb24gc3RyaW5nVmFsdWU9IiR7cHJvamVjdC5yb290UGF0aEI2NH0iLz4NCgkJPEw3cDpWYXJpYWJsZVRvU2V0IHN0cmluZ1ZhbHVlPSJwcm9qZWN0LnJvb3RQYXRoIi8+DQoJPC9MN3A6U2V0VmFyaWFibGU+"/>
                                    <L7p:VariableToSet stringValue="dynamicSetVariables"/>
                                </L7p:SetVariable>
                                <L7p:Regex>
                                    <L7p:AutoTarget booleanValue="false"/>
                                    <L7p:OtherTargetMessageVariable stringValue="policy.result"/>
                                    <L7p:Regex stringValueReference="inline"><![CDATA[<L7p:SetVariable>
            <L7p:Base64Expression stringValue=""/>
            <L7p:VariableToSet stringValue="project.forwarded.httpScheme"/>.*            <L7p:VariableToSet stringValue="project.rootPath"/>
        </L7p:SetVariable>]]></L7p:Regex>
                                    <L7p:RegexName stringValue="injectDynamicSetVariables"/>
                                    <L7p:Replace booleanValue="true"/>
                                    <L7p:Replacement stringValue="${dynamicSetVariables}"/>
                                    <L7p:Target target="OTHER"/>
                                </L7p:Regex>
                                <L7p:SetVariable>
                                    <L7p:Base64Expression stringValue="JHtwb2xpY3kucmVzdWx0fQo="/>
                                    <L7p:LineBreak lineBreak="LF"/>
                                    <L7p:VariableToSet stringValue="policy.xml"/>
                                </L7p:SetVariable>
                                <L7p:AuditDetailAssertion>
                                    <L7p:Detail stringValue="Injected SetVariables: ${policy.xml}"/>
                                    <L7p:Level stringValue="FINE"/>
                                </L7p:AuditDetailAssertion>
                            </wsp:All>
                            <L7p:TrueAssertion/>
                        </wsp:OneOrMore>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHtwb2xpY3kucmVzdWx0fQ=="/>
                            <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
                            <L7p:DataType variableDataType="message"/>
                            <L7p:VariableToSet stringValue="policy.xml"/>
                        </L7p:SetVariable>
                        <L7p:ResponseXpathAssertion>
                            <L7p:VariablePrefix stringValue="assertions"/>
                            <L7p:XmlMsgSrc stringValue="policy.xml"/>
                            <L7p:XpathExpression xpathExpressionValue="included">
                                <L7p:Expression stringValue="/wsp:Policy/wsp:All/*"/>
                                <L7p:Namespaces mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="wsp"/>
                                    <L7p:value stringValue="http://schemas.xmlsoap.org/ws/2002/12/policy"/>
                                    </L7p:entry>
                                </L7p:Namespaces>
                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                            </L7p:XpathExpression>
                        </L7p:ResponseXpathAssertion>
                        <L7p:ResponseXpathAssertion>
                            <L7p:VariablePrefix stringValue="policyName"/>
                            <L7p:XmlMsgSrc stringValue="policyObject.xml"/>
                            <L7p:XpathExpression xpathExpressionValue="included">
                                <L7p:Expression stringValue="/l7:Item/l7:Name"/>
                                <L7p:Namespaces mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="s"/>
                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="l7"/>
                                    <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                    </L7p:entry>
                                </L7p:Namespaces>
                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                            </L7p:XpathExpression>
                        </L7p:ResponseXpathAssertion>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHtyZWZlcmVuY2VQb2xpY3l9CiAgICAgPHdzcDpBbGwgTDdwOkVuYWJsZWQ9IiR7cG9saWN5RW5hYmxlZH0iIHdzcDpVc2FnZT0iUmVxdWlyZWQiPgoJJHthc3NlcnRpb25zLmVsZW1lbnRzfQoJICAgICAgPEw3cDphc3NlcnRpb25Db21tZW50PgogICAgICAgICAgICAgICAgPEw3cDpQcm9wZXJ0aWVzIG1hcFZhbHVlPSJpbmNsdWRlZCI+CiAgICAgICAgICAgICAgICAgICAgPEw3cDplbnRyeT4KICAgICAgICAgICAgICAgICAgICAgICAgPEw3cDprZXkgc3RyaW5nVmFsdWU9IlJJR0hULkNPTU1FTlQiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPEw3cDp2YWx1ZSBzdHJpbmdWYWx1ZT0iLy8gJHtwb2xpY3lOYW1lLnJlc3VsdH0iLz4KICAgICAgICAgICAgICAgICAgICA8L0w3cDplbnRyeT4KICAgICAgICAgICAgICAgIDwvTDdwOlByb3BlcnRpZXM+CiAgICAgICAgICAgIDwvTDdwOmFzc2VydGlvbkNvbW1lbnQ+Cgk8L3dzcDpBbGw+"/>
                            <L7p:LineBreak lineBreak="LF"/>
                            <L7p:VariableToSet stringValue="referencePolicy"/>
                        </L7p:SetVariable>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// inject"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <wsp:All wsp:Usage="Required">
                        <L7p:ComparisonAssertion>
                            <L7p:Expression1 stringValue="${policyType}"/>
                            <L7p:Expression2 stringValue="fragment"/>
                            <L7p:Predicates predicates="included">
                                <L7p:item binary="included">
                                    <L7p:RightValue stringValue="fragment"/>
                                </L7p:item>
                            </L7p:Predicates>
                        </L7p:ComparisonAssertion>
                        <L7p:ResponseXpathAssertion>
                            <L7p:VariablePrefix stringValue="policyGuid"/>
                            <L7p:XmlMsgSrc stringValue="policyObject.xml"/>
                            <L7p:XpathExpression xpathExpressionValue="included">
                                <L7p:Expression stringValue="/l7:Item/l7:Resource/l7:Policy/@guid"/>
                                <L7p:Namespaces mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="s"/>
                                    <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                                    </L7p:entry>
                                    <L7p:entry>
                                    <L7p:key stringValue="l7"/>
                                    <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                                    </L7p:entry>
                                </L7p:Namespaces>
                                <L7p:XpathVersion xpathVersion="XPATH_1_0"/>
                            </L7p:XpathExpression>
                        </L7p:ResponseXpathAssertion>
                        <L7p:SetVariable>
                            <L7p:Base64Expression stringValue="JHtyZWZlcmVuY2VQb2xpY3l9Cgk8TDdwOkluY2x1ZGU+CgkJPEw3cDpFbmFibGVkIGJvb2xlYW5WYWx1ZT0iJHtwb2xpY3lFbmFibGVkfSIvPgoJCTxMN3A6UG9saWN5R3VpZCBzdHJpbmdWYWx1ZT0iJHtwb2xpY3lHdWlkLnJlc3VsdH0iLz4KCTwvTDdwOkluY2x1ZGU+"/>
                            <L7p:LineBreak lineBreak="LF"/>
                            <L7p:VariableToSet stringValue="referencePolicy"/>
                        </L7p:SetVariable>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// fragment"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <wsp:All wsp:Usage="Required">
                        <L7p:CustomizeErrorResponse>
                            <L7p:AssertionComment assertionComment="included">
                                <L7p:Properties mapValue="included">
                                    <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// 500 (application/json)"/>
                                    </L7p:entry>
                                </L7p:Properties>
                            </L7p:AssertionComment>
                            <L7p:Content stringValue="{  &quot;statusCode&quot;: &quot;500&quot;,  &quot;errorCode&quot;: &quot;000&quot;,  &quot;errorMessage&quot;: &quot;Error: Unknown policyType&quot;,  &quot;helpUrl&quot;: &quot;http://${gateway.apiCreator.hostname}/support/errors/error000&quot;}"/>
                            <L7p:ContentType stringValue="application/json; charset=UTF-8"/>
                            <L7p:ExtraHeaders nameValuePairArray="included"/>
                        </L7p:CustomizeErrorResponse>
                        <L7p:FalseAssertion/>
                        <L7p:assertionComment>
                            <L7p:Properties mapValue="included">
                                <L7p:entry>
                                    <L7p:key stringValue="RIGHT.COMMENT"/>
                                    <L7p:value stringValue="// Fail 500"/>
                                </L7p:entry>
                            </L7p:Properties>
                        </L7p:assertionComment>
                    </wsp:All>
                    <L7p:assertionComment>
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// Handle fragment vs inject else fail 500"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:assertionComment>
                </wsp:OneOrMore>
            </L7p:ForEachLoop>
            <L7p:SetVariable>
                <L7p:AssertionComment assertionComment="included">
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// Close out the reference policy XML"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:AssertionComment>
                <L7p:Base64Expression stringValue="JHtyZWZlcmVuY2VQb2xpY3l9CiAgICA8L3dzcDpBbGw+Cjwvd3NwOlBvbGljeT4="/>
                <L7p:LineBreak lineBreak="LF"/>
                <L7p:VariableToSet stringValue="referencePolicy"/>
            </L7p:SetVariable>
            <L7p:AuditDetailAssertion>
                <L7p:Detail stringValue="referencePolicy:${referencePolicy}"/>
                <L7p:Level stringValue="WARNING"/>
            </L7p:AuditDetailAssertion>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="// Build the reference policy"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:All>
        <wsp:OneOrMore wsp:Usage="Required">
            <wsp:All wsp:Usage="Required">
                <L7p:EvaluateJsonPathExpression>
                    <L7p:Expression stringValue="$.basePath"/>
                    <L7p:VariablePrefix stringValue="basePath"/>
                </L7p:EvaluateJsonPathExpression>
                <L7p:AuditDetailAssertion>
                    <L7p:Detail stringValue="basePath.result: ${basePath.result}"/>
                    <L7p:Level stringValue="FINE"/>
                </L7p:AuditDetailAssertion>
                <L7p:Regex>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// Capture ProjectName and Version"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:AutoTarget booleanValue="false"/>
                    <L7p:CaptureVar stringValue="pathSplit"/>
                    <L7p:OtherTargetMessageVariable stringValue="basePath.result"/>
                    <L7p:Regex stringValue="(.*)\/([^\/]*)\/(v[0-9]+)$"/>
                    <L7p:Replacement stringValue=""/>
                    <L7p:Target target="OTHER"/>
                </L7p:Regex>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtwYXRoU3BsaXRbMl19"/>
                    <L7p:VariableToSet stringValue="project"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtwYXRoU3BsaXRbM119"/>
                    <L7p:VariableToSet stringValue="version"/>
                </L7p:SetVariable>
                <L7p:AuditDetailAssertion>
                    <L7p:Detail stringValue="serviceResolution: /${project}/${version}/*"/>
                    <L7p:Level stringValue="FINE"/>
                </L7p:AuditDetailAssertion>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="LyR7cHJvamVjdH0vJHt2ZXJzaW9ufS8q"/>
                    <L7p:VariableToSet stringValue="serviceResolution"/>
                </L7p:SetVariable>
                <L7p:EvaluateJsonPathExpression>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// set ${title.result}"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:Expression stringValue="$.info.title"/>
                    <L7p:VariablePrefix stringValue="title"/>
                </L7p:EvaluateJsonPathExpression>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHt0aXRsZS5yZXN1bHR9"/>
                    <L7p:VariableToSet stringValue="title"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="PGw3OkJ1bmRsZSB4bWxuczpsNz0iaHR0cDovL25zLmw3dGVjaC5jb20vMjAxMC8wNC9nYXRld2F5LW1hbmFnZW1lbnQiPg0KICAgIDxsNzpSZWZlcmVuY2VzPg0KPGw3Okl0ZW0+DQogICAgICAgICAgICA8bDc6TmFtZT50ZW1wbGF0ZV9zZXJ2aWNlX25hbWU8L2w3Ok5hbWU+DQogICAgICAgICAgICA8bDc6SWQ+NjQzNTMxMjQxMDg2NWMyOGI0MTQyMGFjOGFiNTJhODY8L2w3OklkPg0KICAgICAgICAgICAgPGw3OlR5cGU+U0VSVklDRTwvbDc6VHlwZT4NCiAgICAgICAgICAgIDxsNzpUaW1lU3RhbXA+MjAxNS0wMi0wNVQxNjoyODo0Mi4yOTAtMDg6MDA8L2w3OlRpbWVTdGFtcD4NCiAgICAgICAgICAgIDxsNzpSZXNvdXJjZT4NCiAgICAgICAgICAgICAgICA8bDc6U2VydmljZSBpZD0iNjQzNTMxMjQxMDg2NWMyOGI0MTQyMGFjOGFiNTJhODYiIHZlcnNpb249IjEiPg0KICAgICAgICAgICAgICAgICAgICA8bDc6U2VydmljZURldGFpbCBmb2xkZXJJZD0iMDAwMDAwMDAwMDAwMDAwMGZmZmZmZmZmZmZmZmVjNzYiIGlkPSI2NDM1MzEyNDEwODY1YzI4YjQxNDIwYWM4YWI1MmE4NiIgdmVyc2lvbj0iMSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bDc6TmFtZT50ZW1wbGF0ZV9uYW1lPC9sNzpOYW1lPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGw3OkVuYWJsZWQ+dHJ1ZTwvbDc6RW5hYmxlZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsNzpTZXJ2aWNlTWFwcGluZ3M+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGw3Okh0dHBNYXBwaW5nPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6VXJsUGF0dGVybj50ZW1wbGF0ZV91cmxQYXR0ZXJuPC9sNzpVcmxQYXR0ZXJuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6VmVyYnM+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6VmVyYj5HRVQ8L2w3OlZlcmI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6VmVyYj5QT1NUPC9sNzpWZXJiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGw3OlZlcmI+UFVUPC9sNzpWZXJiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGw3OlZlcmI+UEFUQ0g8L2w3OlZlcmI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6VmVyYj5ERUxFVEU8L2w3OlZlcmI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6VmVyYj5IRUFEPC9sNzpWZXJiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGw3OlZlcmI+T1BUSU9OUzwvbDc6VmVyYj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sNzpWZXJicz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2w3Okh0dHBNYXBwaW5nPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9sNzpTZXJ2aWNlTWFwcGluZ3M+DQogICAgICAgICAgICAgICAgICAgICAgICA8bDc6UHJvcGVydGllcz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6UHJvcGVydHkga2V5PSJwb2xpY3lSZXZpc2lvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsNzpMb25nVmFsdWU+MTwvbDc6TG9uZ1ZhbHVlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbDc6UHJvcGVydHk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGw3OlByb3BlcnR5IGtleT0id3NzUHJvY2Vzc2luZ0VuYWJsZWQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6Qm9vbGVhblZhbHVlPnRydWU8L2w3OkJvb2xlYW5WYWx1ZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2w3OlByb3BlcnR5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsNzpQcm9wZXJ0eSBrZXk9InNvYXAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6Qm9vbGVhblZhbHVlPmZhbHNlPC9sNzpCb29sZWFuVmFsdWU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sNzpQcm9wZXJ0eT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bDc6UHJvcGVydHkga2V5PSJpbnRlcm5hbCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsNzpCb29sZWFuVmFsdWU+ZmFsc2U8L2w3OkJvb2xlYW5WYWx1ZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2w3OlByb3BlcnR5Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsNzpQcm9wZXJ0eSBrZXk9InRyYWNpbmdFbmFibGVkIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGw3OkJvb2xlYW5WYWx1ZT5mYWxzZTwvbDc6Qm9vbGVhblZhbHVlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbDc6UHJvcGVydHk+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2w3OlByb3BlcnRpZXM+DQogICAgICAgICAgICAgICAgICAgIDwvbDc6U2VydmljZURldGFpbD4NCiAgICAgICAgICAgICAgICAgICAgPGw3OlJlc291cmNlcz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsNzpSZXNvdXJjZVNldCB0YWc9InBvbGljeSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGw3OlJlc291cmNlIHR5cGU9InBvbGljeSIgdmVyc2lvbj0iMSI+DQo8L2w3OlJlc291cmNlPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9sNzpSZXNvdXJjZVNldD4NCiAgICAgICAgICAgICAgICAgICAgPC9sNzpSZXNvdXJjZXM+DQogICAgICAgICAgICAgICAgPC9sNzpTZXJ2aWNlPg0KICAgICAgICAgICAgPC9sNzpSZXNvdXJjZT4NCiAgICAgICAgPC9sNzpJdGVtPg0KICAgICAgICAgICAgPC9sNzpSZWZlcmVuY2VzPg0KICAgICAgICAgICAgPGw3Ok1hcHBpbmdzPg0KICAgIDwvbDc6TWFwcGluZ3M+DQo8L2w3OkJ1bmRsZT4="/>
                    <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
                    <L7p:DataType variableDataType="message"/>
                    <L7p:VariableToSet stringValue="serviceBundle"/>
                </L7p:SetVariable>
                <L7p:XslTransformation>
                    <L7p:Direction intValue="-1"/>
                    <L7p:OtherTargetMessageVariable stringValue="serviceBundle"/>
                    <L7p:ResourceInfo staticResourceInfo="included">
                        <L7p:Document stringValueReference="inline"><![CDATA[<xsl:stylesheet version="1.0" xmlns:l7="http://ns.l7tech.com/2010/04/gateway-management" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
	<xsl:output indent="yes" method="xml" omit-xml-declaration="yes"/>
	<xsl:param name="title"/><!-- Identity transform -->
	<xsl:param name="serviceResolution"/><!-- Identity transform -->
	<xsl:template match="@*|*|processing-instruction()|comment()">
		<xsl:copy>
			<xsl:apply-templates select="*|@*|text()|processing-instruction()|comment()"/>
		</xsl:copy>
	</xsl:template>
	<xsl:template match="l7:References/l7:Item/l7:Name/text()[.='template_service_name']">
	<xsl:copy-of select="$title"/>
	</xsl:template>
	<xsl:template match="l7:References/l7:Item/l7:Resource/l7:Service/l7:ServiceDetail/l7:Name/text()[.='template_name']">
	<xsl:copy-of select="$title"/>
	</xsl:template>
	<xsl:template match="l7:References/l7:Item/l7:Resource/l7:Service/l7:ServiceDetail/l7:ServiceMappings/l7:HttpMapping/l7:UrlPattern/text()[.='template_urlPattern']">
	<xsl:copy-of select="$serviceResolution"/>
	</xsl:template>
</xsl:stylesheet>]]></L7p:Document>
                    </L7p:ResourceInfo>
                    <L7p:Target target="OTHER"/>
                    <L7p:TransformName stringValue=""/>
                    <L7p:XsltVersion stringValue="1.0"/>
                </L7p:XslTransformation>
                <L7p:AuditDetailAssertion>
                    <L7p:Detail stringValue="Updated ServiceBundle: {serviceBundle.mainpart}"/>
                    <L7p:Level stringValue="FINE"/>
                </L7p:AuditDetailAssertion>
                <L7p:ResponseXpathAssertion>
                    <L7p:VariablePrefix stringValue="serviceDefinition"/>
                    <L7p:XmlMsgSrc stringValue="serviceBundle"/>
                    <L7p:XpathExpression xpathExpressionValue="included">
                        <L7p:Expression stringValue="/l7:Bundle/l7:References/l7:Item[l7:Type='SERVICE']"/>
                        <L7p:Namespaces mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="s"/>
                                <L7p:value stringValue="http://schemas.xmlsoap.org/soap/envelope/"/>
                            </L7p:entry>
                            <L7p:entry>
                                <L7p:key stringValue="l7"/>
                                <L7p:value stringValue="http://ns.l7tech.com/2010/04/gateway-management"/>
                            </L7p:entry>
                        </L7p:Namespaces>
                        <L7p:XpathVersion xpathVersion="XPATH_2_0"/>
                    </L7p:XpathExpression>
                </L7p:ResponseXpathAssertion>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="JHtzZXJ2aWNlRGVmaW5pdGlvbi5lbGVtZW50fQ=="/>
                    <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
                    <L7p:DataType variableDataType="message"/>
                    <L7p:VariableToSet stringValue="serviceDefinition"/>
                </L7p:SetVariable>
                <L7p:XslTransformation>
                    <L7p:Direction intValue="-1"/>
                    <L7p:OtherTargetMessageVariable stringValue="serviceDefinition"/>
                    <L7p:ResourceInfo staticResourceInfo="included">
                        <L7p:Document stringValue="&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:l7=&quot;http://ns.l7tech.com/2010/04/gateway-management&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;>  &lt;xsl:output method=&quot;xml&quot; omit-xml-declaration=&quot;yes&quot; indent=&quot;yes&quot; />    &lt;xsl:param name=&quot;referencePolicy&quot;/>  &lt;!-- Identity transform -->  &lt;xsl:template match=&quot;@*|*|processing-instruction()|comment()&quot;>    &lt;xsl:copy>      &lt;xsl:apply-templates select=&quot;*|@*|text()|processing-instruction()|comment()&quot;/>    &lt;/xsl:copy>  &lt;/xsl:template>    &lt;xsl:template match=&quot;/l7:Item/l7:Resource/l7:Service/l7:Resources/l7:ResourceSet/l7:Resource[@type='policy']/text()&quot;>    &lt;xsl:copy-of select=&quot;$referencePolicy&quot;/>  &lt;/xsl:template>&lt;/xsl:stylesheet>"/>
                    </L7p:ResourceInfo>
                    <L7p:Target target="OTHER"/>
                    <L7p:TransformName stringValue=""/>
                    <L7p:XsltVersion stringValue="1.0"/>
                </L7p:XslTransformation>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="PGw3Ok1hcHBpbmcgYWN0aW9uPSJBbHdheXNDcmVhdGVOZXciIHNyY0lkPSI2NDM1MzEyNDEwODY1YzI4YjQxNDIwYWM4YWI1MmE4NiIgc3JjVXJpPSJodHRwczovL2xvY2FsaG9zdDo4NDQzL3Jlc3RtYW4vMS4wL3NlcnZpY2VzLzY0MzUzMTI0MTA4NjVjMjhiNDE0MjBhYzhhYjUyYTg2IiB0eXBlPSJTRVJWSUNFIi8+"/>
                    <L7p:VariableToSet stringValue="serviceMappings"/>
                </L7p:SetVariable>
                <L7p:SetVariable>
                    <L7p:Base64Expression stringValue="PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8bDc6QnVuZGxlIHhtbG5zOmw3PSJodHRwOi8vbnMubDd0ZWNoLmNvbS8yMDEwLzA0L2dhdGV3YXktbWFuYWdlbWVudCI+DQogICAgPGw3OlJlZmVyZW5jZXM+JHtzZXJ2aWNlRGVmaW5pdGlvbi5tYWlucGFydH08L2w3OlJlZmVyZW5jZXM+DQo8bDc6TWFwcGluZ3M+DQoke3NlcnZpY2VNYXBwaW5nc30NCiAgICA8L2w3Ok1hcHBpbmdzPg0KPC9sNzpCdW5kbGU+"/>
                    <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
                    <L7p:DataType variableDataType="message"/>
                    <L7p:VariableToSet stringValue="importBundlePayload"/>
                </L7p:SetVariable>
                <L7p:XslTransformation>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// Set ServiceDetail FolderId to the project.folderId"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:Direction intValue="-1"/>
                    <L7p:OtherTargetMessageVariable stringValue="importBundlePayload"/>
                    <L7p:ResourceInfo staticResourceInfo="included">
                        <L7p:Document stringValueReference="inline"><![CDATA[<xsl:stylesheet version="1.0" xmlns:l7="http://ns.l7tech.com/2010/04/gateway-management" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output indent="yes" method="xml" omit-xml-declaration="yes"/>
  <xsl:param name="project.folderId.result"/><!-- Identity transform -->
  <xsl:template match="@*|*|processing-instruction()|comment()">
    <xsl:copy>
      <xsl:apply-templates select="*|@*|text()|processing-instruction()|comment()"/>
    </xsl:copy>
  </xsl:template>
  <xsl:template match="/l7:Bundle/l7:References/l7:Item/l7:Resource/l7:Service/l7:ServiceDetail/@folderId">
   <xsl:attribute name="folderId">
    <xsl:value-of select="$project.folderId.result"/>
  </xsl:attribute>
  </xsl:template>
</xsl:stylesheet>]]></L7p:Document>
                    </L7p:ResourceInfo>
                    <L7p:Target target="OTHER"/>
                    <L7p:TransformName stringValue=""/>
                    <L7p:XsltVersion stringValue="1.0"/>
                </L7p:XslTransformation>
                <L7p:AuditDetailAssertion>
                    <L7p:Detail stringValue="importBundlePayload:${importBundlePayload.mainpart}"/>
                    <L7p:Level stringValue="FINE"/>
                </L7p:AuditDetailAssertion>
                <L7p:Encapsulated>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// PUT 1.0/bundle"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:EncapsulatedAssertionConfigGuid stringValue="7fcb6572-f602-4f56-b1fc-e897e23082a8"/>
                    <L7p:EncapsulatedAssertionConfigName stringValue="LAC: Call RESTMan"/>
                    <L7p:Parameters mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="restGatewayMan.action"/>
                            <L7p:value stringValue="PUT"/>
                        </L7p:entry>
                        <L7p:entry>
                            <L7p:key stringValue="restGatewayMan.uri"/>
                            <L7p:value stringValue="1.0/bundle"/>
                        </L7p:entry>
                        <L7p:entry>
                            <L7p:key stringValue="restman.request"/>
                            <L7p:value stringValue="${importBundlePayload.mainpart}"/>
                        </L7p:entry>
                    </L7p:Parameters>
                </L7p:Encapsulated>
                <wsp:All wsp:Usage="Required">
                    <L7p:ComparisonAssertion>
                        <L7p:Expression1 stringValue="${restGatewayMan.status}"/>
                        <L7p:Expression2 stringValue="200"/>
                        <L7p:Predicates predicates="included">
                            <L7p:item binary="included">
                                <L7p:RightValue stringValue="200"/>
                            </L7p:item>
                        </L7p:Predicates>
                    </L7p:ComparisonAssertion>
                    <L7p:HardcodedResponse>
                        <L7p:Base64ResponseBody stringValue="ewoJInN0YXR1c0NvZGUiOiAiMjAwIiwKCSJTZXJ2aWNlU3RhdHVzIjogIlB1Ymxpc2hlZCIKfQ=="/>
                        <L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/>
                    </L7p:HardcodedResponse>
                </wsp:All>
                <L7p:assertionComment>
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// Process swagger and deploy service"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:assertionComment>
            </wsp:All>
            <wsp:All wsp:Usage="Required">
                <L7p:AuditDetailAssertion>
                    <L7p:Detail stringValue="LAC: Call RESTMAN Error: ${response.mainpart}"/>
                    <L7p:Level stringValue="FINE"/>
                </L7p:AuditDetailAssertion>
                <L7p:CustomizeErrorResponse>
                    <L7p:AssertionComment assertionComment="included">
                        <L7p:Properties mapValue="included">
                            <L7p:entry>
                                <L7p:key stringValue="RIGHT.COMMENT"/>
                                <L7p:value stringValue="// 500 (application/json)"/>
                            </L7p:entry>
                        </L7p:Properties>
                    </L7p:AssertionComment>
                    <L7p:Content stringValueReference="inline"><![CDATA[{
	"statusCode": "500",
	"errorCode": "000",
	"errorMessage": "Failure to Publish Service"
}]]></L7p:Content>
                    <L7p:ContentType stringValue="application/json; charset=UTF-8"/>
                    <L7p:ExtraHeaders nameValuePairArray="included"/>
                </L7p:CustomizeErrorResponse>
                <L7p:FalseAssertion/>
                <L7p:assertionComment>
                    <L7p:Properties mapValue="included">
                        <L7p:entry>
                            <L7p:key stringValue="RIGHT.COMMENT"/>
                            <L7p:value stringValue="// Fail 500 (application/json)"/>
                        </L7p:entry>
                    </L7p:Properties>
                </L7p:assertionComment>
            </wsp:All>
            <L7p:assertionComment>
                <L7p:Properties mapValue="included">
                    <L7p:entry>
                        <L7p:key stringValue="RIGHT.COMMENT"/>
                        <L7p:value stringValue="// Process swagger and deploy service else fail 500"/>
                    </L7p:entry>
                </L7p:Properties>
            </L7p:assertionComment>
        </wsp:OneOrMore>
    </wsp:All>
</wsp:Policy>